{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "09330624_1456d452",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 9,
      "author": {
        "id": 1142534
      },
      "writtenOn": "2022-02-18T06:49:38Z",
      "side": 1,
      "message": "followed by last CL, could you add the test section, like some local test cases against your tool for different conditions?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 15
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "901e8b5a_fbdf9799",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1438503
      },
      "writtenOn": "2022-02-18T16:34:09Z",
      "side": 1,
      "message": "Thanks for working with us so much on this CL! Close to being done from my end but there\u0027s a few function call-related issues that need addressing first.",
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bec30b1_8c6d8e88",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 634,
      "author": {
        "id": 1142534
      },
      "writtenOn": "2022-02-18T06:49:38Z",
      "side": 1,
      "message": "you don\u0027t actually use it?",
      "range": {
        "startLine": 634,
        "startChar": 1,
        "endLine": 634,
        "endChar": 15
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2628c156_1cc883ae",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 643,
      "author": {
        "id": 1438503
      },
      "writtenOn": "2022-02-18T16:34:09Z",
      "side": 1,
      "message": "Leaving this error unhandled will lead to some very difficult-to-debug crosfleet failures. We need to handle it, which will also require `verifyFleetTestsPolicy` to return an err.",
      "range": {
        "startLine": 643,
        "startChar": 23,
        "endLine": 643,
        "endChar": 24
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47b9f19a_9a219141",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 643,
      "author": {
        "id": 1526722
      },
      "writtenOn": "2022-02-18T18:55:39Z",
      "side": 1,
      "message": "Receiving an error here is an indirect indication that the tests are not being run by a public user(internal google account running public tests) and we don\u0027t want to return an error there as it a valid condition and probably the most common use case for now. Will it help make things less ambiguous here if I add a separate UFS rpc which tells whether it is a public tests running service account or a private tests running one and only in the case of public I call the fleet validation rpc? \n\n@Xixuan Wu any thoughts on this?",
      "parentUuid": "2628c156_1cc883ae",
      "range": {
        "startLine": 643,
        "startChar": 23,
        "endLine": 643,
        "endChar": 24
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38c047c2_3c7f0574",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 663,
      "author": {
        "id": 1438503
      },
      "writtenOn": "2022-02-18T16:34:09Z",
      "side": 1,
      "message": "Seems like this err would be an API error; we should `return nil, err` from the function here instead of treating it like a negative validation response.",
      "range": {
        "startLine": 663,
        "startChar": 0,
        "endLine": 663,
        "endChar": 18
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b09b23a2_48d0fa5e",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 663,
      "author": {
        "id": 1526722
      },
      "writtenOn": "2022-02-18T18:55:39Z",
      "side": 1,
      "message": "It is a bit tricky logic as I am trying to not fail the run altogether if some incorrect parameters are passed. As long as there are some valid test/model/board/image combinations the run will happen and error messages will be shown for models/tests that are invalid. The result which we are returning indicates this with \"anyValidTests\" and the run is stooped only if this is set to false.",
      "parentUuid": "38c047c2_3c7f0574",
      "range": {
        "startLine": 663,
        "startChar": 0,
        "endLine": 663,
        "endChar": 18
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ee2e31d_a3caa701",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 695,
      "author": {
        "id": 1142534
      },
      "writtenOn": "2022-02-18T06:49:38Z",
      "side": 1,
      "message": "not specified?",
      "range": {
        "startLine": 695,
        "startChar": 3,
        "endLine": 695,
        "endChar": 14
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14e1068d_2fbc285c",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon.go",
        "patchSetId": 12
      },
      "lineNbr": 695,
      "author": {
        "id": 1438503
      },
      "writtenOn": "2022-02-18T16:34:09Z",
      "side": 1,
      "message": "Should be `cmdName`. No error was thrown because `testCmdName` is declared in another file from the same package.",
      "parentUuid": "2ee2e31d_a3caa701",
      "range": {
        "startLine": 695,
        "startChar": 3,
        "endLine": 695,
        "endChar": 14
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7d5f549_d8a7f3e7",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testcommon_test.go",
        "patchSetId": 12
      },
      "lineNbr": 551,
      "author": {
        "id": 1142534
      },
      "writtenOn": "2022-02-18T06:49:38Z",
      "side": 1,
      "message": "move variables close to where it used.",
      "range": {
        "startLine": 551,
        "startChar": 0,
        "endLine": 551,
        "endChar": 44
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49126b6a_933a8abf",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testplan.go",
        "patchSetId": 12
      },
      "lineNbr": 97,
      "author": {
        "id": 1438503
      },
      "writtenOn": "2022-02-18T16:34:09Z",
      "side": 1,
      "message": "See l28 and l77 of this file; the `run testplan` command takes a path to a custom testplan JSON file as its single arg. You will have to inject the tests back into testPlan.\n\nThis command is designed for more bespoke test plans that the `run test` and `run suite` commands; maybe we should just block public users from running it for the sake of simplicity?",
      "range": {
        "startLine": 97,
        "startChar": 2,
        "endLine": 97,
        "endChar": 42
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a896b004_9f10c6a5",
        "filename": "go/src/infra/cmd/crosfleet/internal/run/testplan.go",
        "patchSetId": 12
      },
      "lineNbr": 97,
      "author": {
        "id": 1526722
      },
      "writtenOn": "2022-02-18T18:55:39Z",
      "side": 1,
      "message": "Yes, I will make the change to block this command for public users.",
      "parentUuid": "49126b6a_933a8abf",
      "range": {
        "startLine": 97,
        "startChar": 2,
        "endLine": 97,
        "endChar": 42
      },
      "revId": "badd959dc6f9f261a7921e7aebaaad244bcda940",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}