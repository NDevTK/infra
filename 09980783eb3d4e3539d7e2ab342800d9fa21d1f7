{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4003ace6_a1173f21",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 116,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit: Can you have a go at revising this method comment? I think this method is hard to follow, and without having the context of our previous discussions, I\u0027m not sure if I would have figured it out.\n\n\"returns a list of updated time ranges\" does not say much.\n\nSomething like:\n\"This method splits the exported time range into the distinct time ranges, corresponding to the test status in effect during those time ranges. Only the time ranges which had a status meeting the criteria to be exported are returned.\n\nFor example:\n10:00-10:10am - Flaky\n10:10-10:20am - Consistently Expected\n10:20-10:30am - Flaky\n...\n\"",
      "range": {
        "startLine": 113,
        "startChar": 3,
        "endLine": 116,
        "endChar": 102
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7dd0374_94549e0d",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 116,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "I\u0027m confused, I think L115~L122 serves this exact purpose.\n\nUpdated anyway.",
      "parentUuid": "4003ace6_a1173f21",
      "range": {
        "startLine": 113,
        "startChar": 3,
        "endLine": 116,
        "endChar": 102
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b57af1bd_4c454959",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 119,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "I believe this is out of date given there may be more than one split.",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 143
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb13ea07_49d1829d",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 119,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Alright, I was thinking one split could be a good enough example. changed the example.",
      "parentUuid": "b57af1bd_4c454959",
      "range": {
        "startLine": 117,
        "startChar": 0,
        "endLine": 119,
        "endChar": 143
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f5809295_eedf4f14",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 123,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit/naming: I think it would be clearer if this was previousUpdateTimes",
      "range": {
        "startLine": 123,
        "startChar": 146,
        "endLine": 123,
        "endChar": 150
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81b957da_0408c46b",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 123,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit/naming: I think this would be clearer if this was previousStatuses",
      "range": {
        "startLine": 123,
        "startChar": 111,
        "endLine": 123,
        "endChar": 113
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba1dc5bc_55d76602",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 123,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f5809295_eedf4f14",
      "range": {
        "startLine": 123,
        "startChar": 146,
        "endLine": 123,
        "endChar": 150
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a7bcde9_4927fef6",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 123,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81b957da_0408c46b",
      "range": {
        "startLine": 123,
        "startChar": 111,
        "endLine": 123,
        "endChar": 113
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67eecfb7_0bf04da8",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 131,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit/naming: I think this would be clearer as exportStart",
      "range": {
        "startLine": 131,
        "startChar": 1,
        "endLine": 131,
        "endChar": 9
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59d2b729_52045334",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 131,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "67eecfb7_0bf04da8",
      "range": {
        "startLine": 131,
        "startChar": 1,
        "endLine": 131,
        "endChar": 9
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "579413bd_d0510399",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit/naming: I think this would be clearer as exportEnd",
      "range": {
        "startLine": 132,
        "startChar": 1,
        "endLine": 132,
        "endChar": 7
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1b44e6d_970130d1",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "dealing with multiple parallel time variables of different types adds to the complexity of this method.\n\nI would recommend having everything as time.Time variables, except right at the end, and dropping the \"earliestP\" and \"latestP\" variables (to remove the temptation of using them).\n\nI therefore think this four line section should change to:\nexportStart, err :\u003d pbutil.AsTime(p.options.TimeRange.Earliest)\nif err !\u003d nil {\n   ... handle err ...\n}\nexportEnd, err :\u003d pbutil.AsTime(p.options.TimeRange.Latest)\nif err !\u003d nil {\n   ... handle error ...\n}",
      "range": {
        "startLine": 131,
        "startChar": 1,
        "endLine": 132,
        "endChar": 36
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04fd1693_a9a07a0e",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "579413bd_d0510399",
      "range": {
        "startLine": 132,
        "startChar": 1,
        "endLine": 132,
        "endChar": 7
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1854d1ac_1fb7b7fd",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Removed earliestP and latestP.",
      "parentUuid": "d1b44e6d_970130d1",
      "range": {
        "startLine": 131,
        "startChar": 1,
        "endLine": 132,
        "endChar": 36
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e6183e8_fe7bcb73",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 132,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "579413bd_d0510399",
      "range": {
        "startLine": 132,
        "startChar": 1,
        "endLine": 132,
        "endChar": 7
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc5b7247_607ad891",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 139,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "nit/naming: for me the relationship between \u0027right\u0027 and \u0027latest\u0027 wasn\u0027t immediately clear. \n\nWhat about: rangeEnd",
      "range": {
        "startLine": 139,
        "startChar": 1,
        "endLine": 139,
        "endChar": 11
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3be8b10e_cc427abe",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 139,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bc5b7247_607ad891",
      "range": {
        "startLine": 139,
        "startChar": 1,
        "endLine": 139,
        "endChar": 11
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69227cc0_d746c516",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 140,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "Some comments would be useful here, like... \n// Iterate through status updates, from latest to earliest.",
      "range": {
        "startLine": 140,
        "startChar": 1,
        "endLine": 140,
        "endChar": 25
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f48794a_59263006",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 140,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "69227cc0_d746c516",
      "range": {
        "startLine": 140,
        "startChar": 1,
        "endLine": 140,
        "endChar": 25
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68f2cf7d_32d1fccb",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 146,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "what about: rangeStart",
      "range": {
        "startLine": 146,
        "startChar": 2,
        "endLine": 146,
        "endChar": 4
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f05e3b0_50fd9bd6",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 146,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Changed to updateTimeProto",
      "parentUuid": "68f2cf7d_32d1fccb",
      "range": {
        "startLine": 146,
        "startChar": 2,
        "endLine": 146,
        "endChar": 4
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d140cdf_3eab6f14",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "what about changing this to:\nif rangeStart.Before(exportStart) {\n   rangeStart \u003d exportStart\n}\nranges \u003d append(ranges, statusAndTimeRange{status: s, tr: \u0026pb.TimeRange{\n   Earliest: pbutil.AsTime(rangeStart),\n   Latest: pbutil.AsTime(rangeEnd),\n}})",
      "range": {
        "startLine": 150,
        "startChar": 3,
        "endLine": 150,
        "endChar": 25
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e060e60c_fb25d0ed",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 150,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Earliest and Latest are timestampprotos",
      "parentUuid": "0d140cdf_3eab6f14",
      "range": {
        "startLine": 150,
        "startChar": 3,
        "endLine": 150,
        "endChar": 25
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a62cb094_1ee7508d",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 156,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:25:45Z",
      "side": 1,
      "message": "what about: ranges\n\nstrs reads like \"strings\"",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 8
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "158a88ff_d121b3d4",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 156,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a62cb094_1ee7508d",
      "range": {
        "startLine": 156,
        "startChar": 4,
        "endLine": 156,
        "endChar": 8
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6cb74c8_04016330",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 164,
      "author": {
        "id": 1386944
      },
      "writtenOn": "2021-11-11T01:24:07Z",
      "side": 1,
      "message": "What about:\n\nif !rangeStart.After(exportStart) {\n  break\n}",
      "range": {
        "startLine": 164,
        "startChar": 6,
        "endLine": 164,
        "endChar": 7
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ebb6bec_a0b2a243",
        "filename": "go/src/infra/appengine/weetbix/internal/services/testvariantbqexporter/test_variant_row.go",
        "patchSetId": 6
      },
      "lineNbr": 164,
      "author": {
        "id": 1157909
      },
      "writtenOn": "2021-11-11T20:28:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c6cb74c8_04016330",
      "range": {
        "startLine": 164,
        "startChar": 6,
        "endLine": 164,
        "endChar": 7
      },
      "revId": "09980783eb3d4e3539d7e2ab342800d9fa21d1f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}