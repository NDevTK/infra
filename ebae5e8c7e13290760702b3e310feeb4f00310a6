{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0c9e9506_a9b3ff7e",
        "filename": "go/src/infra/libs/vmlab/internal/image/cloudsdk/cloudsdk.go",
        "patchSetId": 6
      },
      "lineNbr": 171,
      "author": {
        "id": 1368301
      },
      "writtenOn": "2023-03-01T06:46:33Z",
      "side": 1,
      "message": "@fqj@google.com mentioned that we\u0027d like to keep every piece of information in the build path. Is it a good idea trimming the build id?\n\nI thought we could encode it using base36, reducing characters from 19 to 13:\nstrconv.FormatUint(buildId, 36)",
      "revId": "ebae5e8c7e13290760702b3e310feeb4f00310a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23e8be5d_b54dc4fc",
        "filename": "go/src/infra/libs/vmlab/internal/image/cloudsdk/cloudsdk.go",
        "patchSetId": 6
      },
      "lineNbr": 171,
      "author": {
        "id": 1137124
      },
      "writtenOn": "2023-03-01T06:49:49Z",
      "side": 1,
      "message": "Ming\u0027s implementation intentionally put the board name and build type at the end. so if there is a build id, trimming the board name and build type can still guarantee the image name is unique.\n\nBut I agree with Yi that re-encode build id to shorter name can solve the problem and doesn\u0027t require to trim anything.",
      "parentUuid": "0c9e9506_a9b3ff7e",
      "revId": "ebae5e8c7e13290760702b3e310feeb4f00310a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85f215f3_ae6102b1",
        "filename": "go/src/infra/libs/vmlab/internal/image/cloudsdk/cloudsdk.go",
        "patchSetId": 6
      },
      "lineNbr": 171,
      "author": {
        "id": 1540363
      },
      "writtenOn": "2023-03-01T15:47:15Z",
      "side": 1,
      "message": "The CL was created to unblock my integration work and the code could be throw away. So a simple approach was adopted.\n\nThen I saw Deniz\u0027 email yesterday. @yixie@google.com I assume you will be continue working on this library setup? Please feel free to make additional changes after the CL is submitted.\n\nAn alternative to encoding the build id in the name: we may use tags to associate more information to images. Then the name stays simple; Tags might be easier for filtering for bulk cleanup, and won\u0027t require decoding when information is needed. The lib already uses tags for GCE instances. https://source.chromium.org/chromium/infra/infra/+/main:go/src/infra/libs/vmlab/api/instance.proto;l\u003d35;drc\u003d5370234ab547d7dc7d03aadda18d9144eebb3c0a",
      "parentUuid": "23e8be5d_b54dc4fc",
      "revId": "ebae5e8c7e13290760702b3e310feeb4f00310a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36fbb495_cf7029bb",
        "filename": "go/src/infra/libs/vmlab/internal/image/cloudsdk/cloudsdk.go",
        "patchSetId": 6
      },
      "lineNbr": 171,
      "author": {
        "id": 1137124
      },
      "writtenOn": "2023-03-02T12:58:19Z",
      "side": 1,
      "message": "In this case, I think it is okay to have this PoC submitted, and Yi can revamp the namings.\n\nRegarding tags, ideally it would be good to have name uniquely identify the image  so we leverage image state rather than handling race ourselves. If the name can contain the info without truncating, it would be even better.",
      "parentUuid": "85f215f3_ae6102b1",
      "revId": "ebae5e8c7e13290760702b3e310feeb4f00310a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a4416f2_5c796360",
        "filename": "go/src/infra/libs/vmlab/internal/image/cloudsdk/cloudsdk.go",
        "patchSetId": 6
      },
      "lineNbr": 171,
      "author": {
        "id": 1540363
      },
      "writtenOn": "2023-03-02T14:00:45Z",
      "side": 1,
      "message": "Synced with Yi Xie. He will work on improving the name conventions.\n\nSince my test runner v2 integration is still in local development, it is ok to update the naming here, or to migrate to some other place.\n\nI am going to submit this CL.",
      "parentUuid": "36fbb495_cf7029bb",
      "revId": "ebae5e8c7e13290760702b3e310feeb4f00310a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}