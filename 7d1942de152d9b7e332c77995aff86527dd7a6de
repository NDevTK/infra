{
  "comments": [
    {
      "key": {
        "uuid": "cd2c1456_709938d2",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/clients/swarming.go",
        "patchSetId": 5
      },
      "lineNbr": 275,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "not necessary. just \u0026duration.Duration{} will do.",
      "range": {
        "startLine": 274,
        "startChar": 3,
        "endLine": 275,
        "endChar": 14
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f1e2ad5_0f76183a",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/clients/swarming.go",
        "patchSetId": 5
      },
      "lineNbr": 275,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:03:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cd2c1456_709938d2",
      "range": {
        "startLine": 274,
        "startChar": 3,
        "endLine": 275,
        "endChar": 14
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4628d5a_6a6bcd8a",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/entities.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "not necessarily for this CL but for the future: \n  PTAL https://talks.golang.org/2014/names.slide\n( i wanted to share before, but never got to it).\n\nFor example, this func would be more readable (and easier to type) with f and s instead of bse and bs:\n\nfunc (f *fleetBotSum...){\n  s :\u003d \u0026fleet.BotSummary{}\n  if err :\u003d proto.Unmarshal(f.Data, s) ...\n    return nil, annotate(..., \"...%q\", f.DutID).Err()\n  }\n  return s, nil\n}",
      "range": {
        "startLine": 45,
        "startChar": 6,
        "endLine": 45,
        "endChar": 9
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f65129b8_ec8bd4ce",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/entities.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c4628d5a_6a6bcd8a",
      "range": {
        "startLine": 45,
        "startChar": 6,
        "endLine": 45,
        "endChar": 9
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c6e58fc_f8943278",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "FYI: this stuff would fit well into Validate method on TriggerRepairOnIdleRequest. You can define it in the package right next to proto-generated files.\nE.g.,  https://cs.chromium.org/chromium/infra/go/src/go.chromium.org/luci/common/proto/gerrit/validation.go\nThis is nice because it allows for code re-use, since tests of clients of your APP may want to test validity of their constructed requests.\nThe downside is that it may make it more difficult to infer what\u0027s allowed in the request for readers for this file, but\n  a) code search + editor\u0027s \"go to definition\" help\n  b) API\u0027s requests should be simple; so if validation of it non-trivial, neither is usage, so perhaps API should be changed.\n\n\nOn top of this, if you have Validate method on all your input args and validation is always the same, you may even instruct prpc stack to call your Validation before calling your ServerImpl methods (similar to checking auth)",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 61,
        "endChar": 2
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "516539da_4aba4d73",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 61,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Thanks.\nMoved to validation.go\n\nThis will also allow tracking the complexity of validation in one place, to decide on whether the API is becoming unwieldy / needs restructuring.",
      "parentUuid": "5c6e58fc_f8943278",
      "range": {
        "startLine": 56,
        "startChar": 1,
        "endLine": 61,
        "endChar": 2
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85fc0131_fd9ac344",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "see line 221",
      "range": {
        "startLine": 86,
        "startChar": 9,
        "endLine": 86,
        "endChar": 30
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2902bf77_618578ba",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "85fc0131_fd9ac344",
      "range": {
        "startLine": 86,
        "startChar": 9,
        "endLine": 86,
        "endChar": 30
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e12665_e2037b64",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 153,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "same as line 221",
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97bba336_9ee436cd",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 153,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90e12665_e2037b64",
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a085525_db89ec41",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 166,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "Go-stylish is to use switch:\n\nswitch ...{\ncase err !\u003d nil:\n  ...\ncase t !\u003d nil \u0026\u0026 ...\n  ..\n}",
      "range": {
        "startLine": 166,
        "startChar": 2,
        "endLine": 166,
        "endChar": 40
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67c5be87_5608336a",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 166,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a085525_db89ec41",
      "range": {
        "startLine": 166,
        "startChar": 2,
        "endLine": 166,
        "endChar": 40
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af7290c2_243af0a6",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 221,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "commonTaskTags is shared by all goroutines, so you are potentially calling append on it concurrently, which isn\u0027t good. You need to copy from it, so \ntags :\u003d make(, 0, len(commonTaskTags) + 1)\ntags \u003d append(tags, \u003cnew tag\u003e, commonTaskTags...)",
      "range": {
        "startLine": 221,
        "startChar": 9,
        "endLine": 221,
        "endChar": 30
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "718ce42d_6e515360",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 221,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Thanks, it\u0027s worse than that - I never want to modify commonTaskTags at all. The tests aren\u0027t mixing different kinds of operations, but when the same process is used for different RPCs in the app, I\u0027ll tags would start leaking across the RPCs via the global commonTaskTags... :(\n\nNote that I couldn\u0027t quite use your suggsetion (append() doesn\u0027t like expanded lists alongside multiple arguments)",
      "parentUuid": "af7290c2_243af0a6",
      "range": {
        "startLine": 221,
        "startChar": 9,
        "endLine": 221,
        "endChar": 30
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dffe7aa8_ef3ee3cf",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 221,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-06T19:13:49Z",
      "side": 1,
      "message": "what you got is actually better!",
      "parentUuid": "718ce42d_6e515360",
      "range": {
        "startLine": 221,
        "startChar": 9,
        "endLine": 221,
        "endChar": 30
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca34d662_7b62f0ff",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 288,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "👍",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 288,
        "endChar": 1
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "49a5efcb_6ec6cb96",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 288,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:03:52Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ca34d662_7b62f0ff",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 288,
        "endChar": 1
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e13beaa_32a62184",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 290,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "maybe makeTaskerBotTasks and accept Type as param?",
      "range": {
        "startLine": 290,
        "startChar": 5,
        "endLine": 290,
        "endChar": 24
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4919805_9ae48ab6",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 290,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "taskIDs",
      "range": {
        "startLine": 290,
        "startChar": 39,
        "endLine": 290,
        "endChar": 43
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b061bd89_900d7c6c",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 290,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Not needed yet.",
      "parentUuid": "1e13beaa_32a62184",
      "range": {
        "startLine": 290,
        "startChar": 5,
        "endLine": 290,
        "endChar": 24
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85c8c907_6c5ae7f5",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker.go",
        "patchSetId": 5
      },
      "lineNbr": 290,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e4919805_9ae48ab6",
      "range": {
        "startLine": 290,
        "startChar": 39,
        "endLine": 290,
        "endChar": 43
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ff87785_4a37ea33",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 334,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "(on naming) I find it it diffcult to remember what \"fsc\" stands for 30 lines below. Consider spelling it out as fakeSwarming",
      "range": {
        "startLine": 334,
        "startChar": 2,
        "endLine": 334,
        "endChar": 5
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8148a2e0_30eca9cc",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 334,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done,\nwill rename in existing tests in follow up CL",
      "parentUuid": "6ff87785_4a37ea33",
      "range": {
        "startLine": 334,
        "startChar": 2,
        "endLine": 334,
        "endChar": 5
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce1a1025_29ef0366",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 334,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:16:33Z",
      "side": 1,
      "message": "For old tests: https://chromium-review.googlesource.com/c/infra/infra/+/1128205",
      "parentUuid": "8148a2e0_30eca9cc",
      "range": {
        "startLine": 334,
        "startChar": 2,
        "endLine": 334,
        "endChar": 5
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d9915fb_95a08412",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "reduce copy-pasta:\nswarmingFactory :\u003d ...\n.. :\u003d TrackerServerImpl{swarmingFactory}\n.. :\u003d TaskerServerImpl{swarmingFactory}",
      "range": {
        "startLine": 346,
        "startChar": 3,
        "endLine": 350,
        "endChar": 5
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce40a7f6_804f2081",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 350,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done.\nWill change existing tests in follow up CL",
      "parentUuid": "2d9915fb_95a08412",
      "range": {
        "startLine": 346,
        "startChar": 3,
        "endLine": 350,
        "endChar": 5
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "978a195a_caadad8f",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 371,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "fsc.botInfos \u003d map[string]*swarming.SwarmingRpcsBotInfo{\n  \"bot_dut_1\": ...\n}",
      "range": {
        "startLine": 370,
        "startChar": 3,
        "endLine": 371,
        "endChar": 28
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "618bc99a_532d73d3",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tasker_test.go",
        "patchSetId": 5
      },
      "lineNbr": 371,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "978a195a_caadad8f",
      "range": {
        "startLine": 370,
        "startChar": 3,
        "endLine": 371,
        "endChar": 28
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e53e5ef5_bb0007b9",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tracker.go",
        "patchSetId": 5
      },
      "lineNbr": 197,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-07-03T18:02:45Z",
      "side": 1,
      "message": "botID\nand you don\u0027t need to explain that bid is bot id in godoc.",
      "range": {
        "startLine": 197,
        "startChar": 67,
        "endLine": 197,
        "endChar": 70
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5bf993a_620cae62",
        "filename": "go/src/infra/appengine/crosskylabadmin/app/frontend/tracker.go",
        "patchSetId": 5
      },
      "lineNbr": 197,
      "author": {
        "id": 1002639
      },
      "writtenOn": "2018-07-06T19:02:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e53e5ef5_bb0007b9",
      "range": {
        "startLine": 197,
        "startChar": 67,
        "endLine": 197,
        "endChar": 70
      },
      "revId": "7d1942de152d9b7e332c77995aff86527dd7a6de",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}