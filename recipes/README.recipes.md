<!--- AUTOGENERATED BY `./recipes.py test train` -->
# Package documentation for [infra](https://chromium.googlesource.com/infra/infra.git)
## Table of Contents

**[Recipe Modules](#Recipe-Modules)**
  * [conda](#recipe_modules-conda) &mdash; Functions to work with Miniconda python environment.
  * [infra_checkout](#recipe_modules-infra_checkout)
  * [infra_cipd](#recipe_modules-infra_cipd)
  * [infra_system](#recipe_modules-infra_system)
  * [omahaproxy](#recipe_modules-omahaproxy)
  * [recipe_autoroller](#recipe_modules-recipe_autoroller)
  * [sync_submodules](#recipe_modules-sync_submodules)
  * [third_party_packages](#recipe_modules-third_party_packages)
  * [third_party_packages_ng](#recipe_modules-third_party_packages_ng) &mdash; Allows uniform cross-compiliation, version tracking and archival for third-party software packages (libs+tools) for distribution via CIPD.
  * [wct](#recipe_modules-wct)
  * [windows_sdk](#recipe_modules-windows_sdk)

**[Recipes](#Recipes)**
  * [build_conda_cipd_pkg](#recipes-build_conda_cipd_pkg) &mdash; Recipe to build CIPD package with sealed Conda environment.
  * [build_from_tarball](#recipes-build_from_tarball)
  * [build_gsutil_cipd_pkg](#recipes-build_gsutil_cipd_pkg)
  * [depot_tools_builder](#recipes-depot_tools_builder) &mdash; Recipe to build windows depot_tools bootstrap zipfile.
  * [docker_image_builder](#recipes-docker_image_builder)
  * [gae_sdk_cipd_packager](#recipes-gae_sdk_cipd_packager)
  * [gerrit_cq_test](#recipes-gerrit_cq_test)
  * [gerrit_hello_world](#recipes-gerrit_hello_world) &mdash; Pushes a trivial CL to Gerrit to verify git authentication works on LUCI.
  * [goma_hello_world](#recipes-goma_hello_world) &mdash; Compiles trivial C++ program using Goma.
  * [gsubmodd](#recipes-gsubmodd) &mdash; Runs git submodule daemon (gsubmodd) against a given source repo.
  * [gsubtreed](#recipes-gsubtreed) &mdash; Runs git subtree daemon (gsubtreed) against Chromium src repo.
  * [gsutil_hello_world](#recipes-gsutil_hello_world) &mdash; Pushes a trivial CL to Gerrit to verify git authentication works on LUCI.
  * [infra_checkout:examples/full](#recipes-infra_checkout_examples_full)
  * [infra_cipd:examples/usage](#recipes-infra_cipd_examples_usage)
  * [infra_continuous](#recipes-infra_continuous)
  * [infra_continuous_luci](#recipes-infra_continuous_luci) &mdash; Builds and tests infra.
  * [infra_repo_trybot](#recipes-infra_repo_trybot)
  * [infra_system:examples/full](#recipes-infra_system_examples_full)
  * [infra_wct_tester](#recipes-infra_wct_tester)
  * [lkgr_finder](#recipes-lkgr_finder)
  * [luci_check](#recipes-luci_check)
  * [luci_gae](#recipes-luci_gae)
  * [luci_go](#recipes-luci_go)
  * [luci_py](#recipes-luci_py)
  * [master_manager_config](#recipes-master_manager_config)
  * [publish_tarball](#recipes-publish_tarball)
  * [recipe_autoroller](#recipes-recipe_autoroller) &mdash; Rolls recipes.
  * [recipe_bundler](#recipes-recipe_bundler)
  * [recipe_roll_tryjob](#recipes-recipe_roll_tryjob)
  * [recipe_simulation](#recipes-recipe_simulation) &mdash; A continuous builder which runs recipe tests.
  * [recipes_py_continuous](#recipes-recipes_py_continuous)
  * [remote_execute_dataflow_workflow](#recipes-remote_execute_dataflow_workflow) &mdash; This recipe is used to execute Dataflow workflows.
  * [sync_submodules](#recipes-sync_submodules)
  * [third_party_packages](#recipes-third_party_packages) &mdash; This recipe builds and packages third party software, such as Git.
  * [third_party_packages:examples/cmake](#recipes-third_party_packages_examples_cmake) &mdash; Recipe for 'cmake' building.
  * [third_party_packages:examples/dep](#recipes-third_party_packages_examples_dep) &mdash; Recipe for Go dependency management tool building.
  * [third_party_packages:examples/firebase](#recipes-third_party_packages_examples_firebase) &mdash; Recipe for firebase-tools building.
  * [third_party_packages:examples/gcloud](#recipes-third_party_packages_examples_gcloud) &mdash; Recipe for Google Cloud SDK building.
  * [third_party_packages:examples/git](#recipes-third_party_packages_examples_git) &mdash; Recipe for 'git' building.
  * [third_party_packages:examples/go](#recipes-third_party_packages_examples_go) &mdash; Recipe for Go toolchain building.
  * [third_party_packages:examples/gsutil](#recipes-third_party_packages_examples_gsutil) &mdash; Recipe for gsutil building.
  * [third_party_packages:examples/ninja](#recipes-third_party_packages_examples_ninja) &mdash; Recipe for 'ninja' building.
  * [third_party_packages:examples/python](#recipes-third_party_packages_examples_python) &mdash; Recipe for 'python' building.
  * [third_party_packages:examples/swig](#recipes-third_party_packages_examples_swig) &mdash; Recipe for 'swig' building.
  * [third_party_packages_ng](#recipes-third_party_packages_ng) &mdash; This recipe builds and packages third party software, such as Git.
  * [third_party_packages_ng:tests/full](#recipes-third_party_packages_ng_tests_full)
  * [tricium_noop](#recipes-tricium_noop) &mdash; Recipe for Tricium that outputs no results.
  * [windows_sdk:examples/full](#recipes-windows_sdk_examples_full)
  * [wpt_export](#recipes-wpt_export) &mdash; Exports commits in Chromium to the web-platform-tests repo.
  * [wpt_import](#recipes-wpt_import) &mdash; Imports changes from web-platform-tests into Chromium.
## Recipe Modules

### *recipe_modules* / [conda](/recipes/recipe_modules/conda)

[DEPS](/recipes/recipe_modules/conda/__init__.py#1): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Functions to work with Miniconda python environment.

See http://conda.pydata.org/miniconda.html

#### **class [CondaApi](/recipes/recipe_modules/conda/api.py#72)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

&mdash; **def [install](/recipes/recipe_modules/conda/api.py#73)(self, version, path):**

Downloads Miniconda installer for given version and executes it.

Args:
  version: version of Miniconda to install, e.g. 'Miniconda2-3.18.3'.
  path: prefix to install Miniconda into.

Returns:
  Instance of CondaEnv, that also optionally acts as context manager that
  deletes the environment on exit.
### *recipe_modules* / [infra\_checkout](/recipes/recipe_modules/infra_checkout)

[DEPS](/recipes/recipe_modules/infra_checkout/__init__.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/presubmit][depot_tools/recipe_modules/presubmit], [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime]

#### **class [InfraCheckoutApi](/recipes/recipe_modules/infra_checkout/api.py#7)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

Stateless API for using public infra gclient checkout.

&mdash; **def [checkout](/recipes/recipe_modules/infra_checkout/api.py#15)(self, gclient_config_name, patch_root=None, path=None, internal=False, named_cache=None, \*\*kwargs):**

Fetches infra gclient checkout into a given path OR named_cache.

Arguments:
  * gclient_config_name (string) - name of gclient config.
  * patch_root (path or string) - path **inside** infra checkout to git repo
    in which to apply the patch. For example, 'infra/luci' for luci-py repo.
    If None (default), no patches will be applied.
  * path (path or string) - path to where to create/update infra checkout.
    If None (default) - path is cache with customizable name (see below).
  * internal (bool) - by default, False, meaning infra gclient checkout
      layout is assumed, else infra_internal.
      This has an effect on named_cache default and inside which repo's
      go corner the ./go/env.py command is run.
  * named_cache - if path is None, this allows to customize the name of the
    cache. Defaults to PUBLIC_NAMED_CACHE or INTERNAL_NAMED_CACHE, depending
    on `internal` argument value.
    Note: your cr-buildbucket.cfg should specify named_cache for swarming to
      prioritize bots which actually have this cache populated by prior
      runs. Otherwise, using named cache isn't particularly useful, unless
      your pool of builders is very small.
  * kwargs - passed as is to bot_update.ensure_checkout.

Returns:
  a Checkout object with commands for common actions on infra checkout.
### *recipe_modules* / [infra\_cipd](/recipes/recipe_modules/infra_cipd)

[DEPS](/recipes/recipe_modules/infra_cipd/__init__.py#8): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

#### **class [InfraCIPDApi](/recipes/recipe_modules/infra_cipd/api.py#11)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

API for building packages defined in infra's public and intenral repos.

Essentially a shim around scripts in
https://chromium.googlesource.com/infra/infra.git/+/master/build/
and its internal counterpart.

&mdash; **def [build](/recipes/recipe_modules/infra_cipd/api.py#64)(self):**

Builds packages.

&emsp; **@contextlib.contextmanager**<br>&mdash; **def [context](/recipes/recipe_modules/infra_cipd/api.py#24)(self, path_to_repo, goos=None, goarch=None):**

Sets context building CIPD packages.

Arguments:
  path_to_repo (path): path infra or infra_internal repo root dir.
    Expects to find `build/build.py` inside provided dir.
  goos, goarch (str): allows for setting GOOS and GOARCH
    for cross-compiling Go code.

Doesn't support nesting.

&mdash; **def [tags](/recipes/recipe_modules/infra_cipd/api.py#106)(self, git_repo_url, revision):**

Returns tags to be attached to uploaded CIPD packages.

&mdash; **def [test](/recipes/recipe_modules/infra_cipd/api.py#71)(self, skip_if_cross_compiling=False):**

Tests previously built packages integrity.

&mdash; **def [upload](/recipes/recipe_modules/infra_cipd/api.py#79)(self, tags, step_test_data=None):**

Uploads previously built packages.
### *recipe_modules* / [infra\_system](/recipes/recipe_modules/infra_system)

[DEPS](/recipes/recipe_modules/infra_system/__init__.py#9): [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform]

#### **class [InfraSystemApi](/recipes/recipe_modules/infra_system/api.py#10)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

API for interacting with a provisioned infrastructure system.

&emsp; **@property**<br>&mdash; **def [sys\_bin\_path](/recipes/recipe_modules/infra_system/api.py#17)(self):**

&emsp; **@contextlib.contextmanager**<br>&mdash; **def [system\_env](/recipes/recipe_modules/infra_system/api.py#23)(self):**

Yields a context modified to operate on system paths.
### *recipe_modules* / [omahaproxy](/recipes/recipe_modules/omahaproxy)

[DEPS](/recipes/recipe_modules/omahaproxy/__init__.py#1): [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/url][recipe_engine/recipe_modules/url]

#### **class [OmahaproxyApi](/recipes/recipe_modules/omahaproxy/api.py#11)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

APIs for interacting with omahaproxy.

&mdash; **def [history](/recipes/recipe_modules/omahaproxy/api.py#20)(self, min_major_version=None, exclude_platforms=None):**

&emsp; **@staticmethod**<br>&mdash; **def [split\_version](/recipes/recipe_modules/omahaproxy/api.py#14)(text):**
### *recipe_modules* / [recipe\_autoroller](/recipes/recipe_modules/recipe_autoroller)

[DEPS](/recipes/recipe_modules/recipe_autoroller/__init__.py#5): [build/luci\_config][build/recipe_modules/luci_config], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/git\_cl][depot_tools/recipe_modules/git_cl], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

#### **class [RecipeAutorollerApi](/recipes/recipe_modules/recipe_autoroller/api.py#125)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

&mdash; **def [roll\_projects](/recipes/recipe_modules/recipe_autoroller/api.py#126)(self, projects):**

Attempts to roll each project from the provided list.

If rolling any of the projects leads to failures, other
projects are not affected.
### *recipe_modules* / [sync\_submodules](/recipes/recipe_modules/sync_submodules)

[DEPS](/recipes/recipe_modules/sync_submodules/__init__.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/infra\_paths][depot_tools/recipe_modules/infra_paths], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

#### **class [SyncSubmodulesApi](/recipes/recipe_modules/sync_submodules/api.py#24)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

&mdash; **def [\_\_call\_\_](/recipes/recipe_modules/sync_submodules/api.py#25)(self, source, source_repo_checkout_name, dest, source_ref='refs/heads/master', dest_ref='refs/heads/master', extra_submodules=None, deps_path_prefix=None, disable_path_prefix=False):**

Args:
  source: URL of the git repository to mirror.
  source_repo_checkout_name: Name of the directory that the source repo
      should be checked out into.
  dest: URL of the git repository to push to.
  source_ref: git ref in the source repository to checkout.
  dest_ref: git ref in the destination repository to push to.
  extra_submodules: a list of "path=URL" strings.  These are added as extra
      submodules.
  deps_path_prefix: path prefix used to filter out DEPS. DEPS with the
      prefix are included.
  disable_path_prefix: disable filtering out DEPS by path prefix.
### *recipe_modules* / [third\_party\_packages](/recipes/recipe_modules/third_party_packages)

[DEPS](/recipes/recipe_modules/third_party_packages/__init__.py#5): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [windows\_sdk](#recipe_modules-windows_sdk), [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/url][recipe_engine/recipe_modules/url]

#### **class [ThirdPartyPackagesApi](/recipes/recipe_modules/third_party_packages/api.py#23)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

&mdash; **def [build\_package](/recipes/recipe_modules/third_party_packages/api.py#188)(self, name, workdir, root, install_mode):**

&emsp; **@property**<br>&mdash; **def [cmake](/recipes/recipe_modules/third_party_packages/api.py#97)(self):**

&emsp; **@property**<br>&mdash; **def [cross\_platform](/recipes/recipe_modules/third_party_packages/api.py#38)(self):**

&emsp; **@property**<br>&mdash; **def [dep](/recipes/recipe_modules/third_party_packages/api.py#113)(self):**

&mdash; **def [does\_package\_exist](/recipes/recipe_modules/third_party_packages/api.py#184)(self, name, version):**

&emsp; **@dry_run.setter**<br>&mdash; **def [dry\_run](/recipes/recipe_modules/third_party_packages/api.py#34)(self, v):**

&mdash; **def [ensure\_package](/recipes/recipe_modules/third_party_packages/api.py#123)(self, workdir, repo_url, package_name_prefix, install_fn, tag, version, cipd_install_mode, test_fn=None):**

Ensures that the specified CIPD package exists.

&emsp; **@property**<br>&mdash; **def [firebase](/recipes/recipe_modules/third_party_packages/api.py#109)(self):**

&emsp; **@property**<br>&mdash; **def [gcloud](/recipes/recipe_modules/third_party_packages/api.py#85)(self):**

&mdash; **def [get\_latest\_release\_tag](/recipes/recipe_modules/third_party_packages/api.py#161)(self, repo_url, prefix='v'):**

&mdash; **def [get\_package\_name](/recipes/recipe_modules/third_party_packages/api.py#120)(self, package_name_prefix):**

&emsp; **@property**<br>&mdash; **def [git](/recipes/recipe_modules/third_party_packages/api.py#81)(self):**

&emsp; **@property**<br>&mdash; **def [go](/recipes/recipe_modules/third_party_packages/api.py#105)(self):**

&emsp; **@property**<br>&mdash; **def [gsutil](/recipes/recipe_modules/third_party_packages/api.py#89)(self):**

&mdash; **def [init\_cross\_platform](/recipes/recipe_modules/third_party_packages/api.py#44)(self, cross_platform):**

&emsp; **@property**<br>&mdash; **def [ninja](/recipes/recipe_modules/third_party_packages/api.py#93)(self):**

&emsp; **@property**<br>&mdash; **def [python](/recipes/recipe_modules/third_party_packages/api.py#77)(self):**

&mdash; **def [register\_package](/recipes/recipe_modules/third_party_packages/api.py#193)(self, package_file, name, version):**

&mdash; **def [support\_prefix](/recipes/recipe_modules/third_party_packages/api.py#117)(self, base):**

&emsp; **@property**<br>&mdash; **def [swig](/recipes/recipe_modules/third_party_packages/api.py#101)(self):**
### *recipe_modules* / [third\_party\_packages\_ng](/recipes/recipe_modules/third_party_packages_ng)

[DEPS](/recipes/recipe_modules/third_party_packages_ng/__init__.py#5): [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/osx\_sdk][depot_tools/recipe_modules/osx_sdk], [depot\_tools/windows\_sdk][depot_tools/recipe_modules/windows_sdk], [recipe\_engine/archive][recipe_engine/recipe_modules/archive], [recipe\_engine/cipd][recipe_engine/recipe_modules/cipd], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

Allows uniform cross-compiliation, version tracking and archival for
third-party software packages (libs+tools) for distribution via CIPD.

The purpose of the Third Party Packages (3pp) recipe/module is to generate CIPD
packages of statically-compiled software for distribution in our continuous
integration fleets, as well as software distributed to our develepers (e.g.
via depot_tools).

Target os and architecture uses the CIPD "${os}-${arch}" (a.k.a. "${platform}")
nomenclature, which is currently defined in terms of Go's GOOS and GOARCH
runtime variables (with the unfortunate exception that CIPD uses 'mac' instead
of 'darwin'). This is somewhat arbitrary, but has worked well so far for us.

#### Package Definitions

The 3pp module loads package definitions from a folder containing subfolders.
Each subfolder defines a single software package to fetch, build and upload.
For example, you might have a folder in your repo like this:

    my_repo.git/
      third_party_packages/  # "root folder"
        .vpython             # common vpython file for all package scripts
        zlib/                # zlib "package folder"
          3pp.pb             # REQUIRED: the Spec.proto definition for zlib
          install.sh         # a script to build zlib from source
          extra_resource_file
        other_package/
          3pp.pb             # REQUIRED
          fetch.py           # a script to fetch `other_package` in a custom way
          install.sh
          install-win.sh     # windows-specific build script
        ...

This defines two packages (`zlib`, and `other_package`). The 3pp.pb files have
references to the fetch/build scripts, and describe what dependencies the
packages have (if any).

NOTE: Only one layer of package folders is supported currently.

Packages are named by the folder that contains their definition file (3pp.pb)
and build scripts. It's preferable to have package named after software that it
contains. However, sometimes you want multiple major versions of the software to
exist side-by-side (e.g. pcre and pcre2, python and python3, etc.). In this
case, have two separate package definition folders.

Each package folder contains a package spec (3pp.pb), as well as scripts,
patches and/or utility tools to build the software from source.

The spec is a Text Proto document specified by the [spec.proto] schema.

The spec is broken up into two main sections, "create" and "upload". The
create section allows you to specify how the package software gets created, and
allows specifying differences in how it's fetched/built/tested on a per-target
basis, and the upload section has some details on how the final result gets
uploaded to CIPD.

[spec.proto]: /recipes/recipe_modules/third_party_packages_ng/spec.proto

#### Creation Stages

The 3pp.pb spec begins with a series of `create` messages, each with details on
on how to fetch+build+test the package.  Each create message contains
a "platform_re" field which works as a regex on the ${platform} value. All
matching patterns apply in order, and non-matching patterns are skipped. Each
create message is applied with a dict.update for each member message (i.e.
['source'].update, ['build'].update, etc.) to build a singular create message
for the current target platform.

Once all the create messages are merged (see schema for all keys that can be
present), the actual creation takes place.

Note that "source" is REQUIRED in the final merged instruction set. All other
messages are optional and have defaults as documented in [spec.proto].

The creation process is broken up into 4 different stages:

  * Source
  * Build
  * Package
  * Verify

##### Envvars

All scripts described below are invoked with the following environment variables
set:
  * $_3PP_PACKAGE_NAME - the name of the package currently building
  * $_3PP_PATCH_VERSION - the `patch_version` set for the version we're building
    (if any patch version was set).
  * $_3PP_PLATFORM - the platform we're targeting
  * $_3PP_VERSION - the version we're building, e.g. 1.2.3
  * $GOOS - The golang OS name we're targeting
  * $GOARCH - The golang architecture we're targeting

Additionally, on cross-compile environments, the $CROSS_TRIPLE environment
variable is set to a GCC cross compile target triplet of cpu-vendor-os.

##### Source

The source is used to fetch the raw sources for assembling the package. In some
cases the sources may actually be binary artifacts (e.g. prebuilt windows
installers).

The source is unpacked to a checkout directory, possibly in some specified
subdirectory. Sources can either produce the actual source files, or they can
produce a single archive file (e.g. zip or tarball), which can be unpacked with
the 'unpack_archive' option.

  * `git` - This checks out a semver tag in the repo. Allows application of
    patch files (in the `git am` format).
  * `cipd` - This fetches data from a CIPD package.
  * `script` - Used for "weird" packages which are distributed via e.g.
    an HTML download page or an API. The script must be able to return the
    'latest' version of its source, as well as to actually fetch a specified
    version.

Additionally the Source message contains a `patch_version` field to allow symver
disambiguation of the built packages when they contain patches or other
alterations which need to be versioned. This string will be joined with a '.' to
the source version being built when uploading the result to CIPD.

##### Build

The build message allows you to specify `deps`, and `tools`, as well as a script
`install` which contains your logic to transform the source into the result
package.

Deps are libraries built for the target `${platform}` and are typically used for
linking your package.

Tools are binaries built for the host; they're things like `automake` or `sed`
that are used during the configure/make phase of your build, but aren't linked
into the built product. These tools will be available on $PATH (both '$tools'
and '$tools/bin' are added to $PATH, because many packages are set up with their
binaries at the base of the package, and some are set up with them in a /bin
folder)

Installation occurs by invoking the script indicated by the 'install' field
(with the appropriate interpreter, depending on the file extension) like:

    <interpreter> "$install[*]" "$PREFIX" "$DEPS_PREFIX"

Where:

  * The current working directory is the base of the source checkout w/o subdir.
  * `$install[*]` are all of the tokens in the 'install' field.
  * `$PREFIX` is the directory which the script should install everything to;
    this directory will be archived into CIPD verbatim.
  * `$DEPS_PREFIX` is the path to a prefix directory containing the union of all
    of your packages' transitive deps. For example, all of the headers of your
    deps are located at `$DEPS_PREFIX/include`.
  * All `tools` are in $PATH

If the 'install' script is omitted, it is assumed to be 'install.sh'.

If the ENTIRE build message is omitted, no build takes place. Instead the
result of the 'source' stage will be packaged.

During the execution of the build phase, the entire 'root folder' is copied into
the source checkout in the .3pp directory, and the script will be invoked as
`/path/to/checkout/.3pp/$package_name/$script_name`. Because the entire root
folder is copied, you can have shared resources (like `.vpython` files or helper
scripts) which are common to all package definitions and located relative to the
install script.

##### Package

Once the build stage is complete, all files in the $PREFIX folder passed to the
install script will be zipped into a CIPD package.

It is strongly recommended that if your package is a library or tool with many
files that it be packaged in the standard POSIXey PREFIX format (e.g. bin, lib,
include, etc.). If your package is a collection of one or more standalone
binaries, it's permissible to just have the binaries in the root of the output
$PREFIX.

If the build stage is skipped (i.e. the build message is omitted) then the
output of the source stage will be packaged instead (this is mostly useful when
using a 'script' source).

##### Verify

After the package is built it can be optionally tested. The recipe will run your
test script in an empty directory with the path to the
packaged-but-not-yet-uploaded cipd package file and it can do whatever testing
it needs to it (exiting non-zero if something is wrong). You can use
the `cipd pkg-deploy` command to deploy it (or whatever cipd commands you like,
though I wouldn't recommend uploading it to CIPD, as the 3pp recipe will do that
after the test exits 0).

##### Upload

Once the test comes back positive, the CIPD package will be uploaded to the CIPD
server and registered with the prefix indicated in the upload message. The full
CIPD package name is constructed as:

    <prefix>/<pkg_name>/${platform}

So for example with the prefix `infra`, the `bzip2` package on linux-amd64 would
be uploaded to `infra/bzip2/linux-amd64` and tagged with the version that was
built (e.g. `version:1.2.3.patch_version1`).

#### Versions

Every package will try to build the latest identifiable semver of its source, or
will attempt to build the semver requested as an input property to the
`third_party_packages` recipe. This semver is also used to tag the uploaded
artifacts in CIPD.

Because some of the packages here are used as dependencies for others (e.g.
curl and zlib are dependencies of git, and zlib is a dependency of curl), each
package used as a dependency for others should specify its version explicitly
(currently this is only possible to do with the 'cipd' source type). So e.g.
zlib and curl specify their source versions, but git and python float at 'head',
always building the latest tagged version fetched from git.

When building a floating package (e.g. python, git) you may explicitly
state the symver that you wish to build as part of the recipe invocation.

The symver of a package (either specified in the package definition, in the
recipe properties or discovered while fetching its source code (e.g. latest git
tag)) is also used to tag the package when it's uploaded to CIPD (plus the
patch_version in the source message).

#### Cross Compilation

Third party packages are currently compiled on linux using the
'infra.tools.dockerbuild' tool from the infra.git repo. This uses a sligthly
modified version of the [dockcross] Docker cross-compile environment. Windows
and OS X targets are built using the 'osx_sdk' and 'windows_sdk' recipe modules,
each of which provides a hermetic (native) build toolchain for those platforms.

For linux, we can support all the architectures implied by dockerbuild,
including:
  * linux-arm64
  * linux-armv6l
  * linux-mips32
  * linux-mips64
  * linux-386
  * linux-amd64

[dockcross]: https://github.com/dockcross/dockcross

#### Dry runs

If the recipe is run in experimental mode (according to the
"recipe_engine/runtime" module), then this recipe will skip the final CIPD
upload.

#### Examples

As an example of the package definition layout in action, take a look at the
[third_party_packages](/third_party_packages) folder in this infra.git repo.

#### **class [ThirdPartyPackagesNGApi](/recipes/recipe_modules/third_party_packages_ng/api.py#330)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

&mdash; **def [ensure\_uploaded](/recipes/recipe_modules/third_party_packages_ng/api.py#475)(self, packages=(), platform='', force_build=False):**

Executes entire {fetch,build,package,verify,upload} pipeline for all the
packages listed, targeting the given platform.

Args:
  * packages (seq[str]) - A sequence of packages to ensure are
    uploaded. Packages must be listed as either 'pkgname' or
    'pkgname@version'. If empty, builds all loaded packages.
  * platform (str) - If specified, the CIPD ${platform} to build for.
    If unspecified, this will be the appropriate CIPD ${platform} for the
    current host machine.

Returns (list[(cipd_pkg, cipd_version)], set[str]) of built CIPD packages
and their tagged versions, as well as a list of unsupported packages.

&mdash; **def [initialize](/recipes/recipe_modules/third_party_packages_ng/api.py#343)(self):**

&mdash; **def [load\_packages\_from\_path](/recipes/recipe_modules/third_party_packages_ng/api.py#425)(self, path):**

Loads all package definitions from the given path.

This will parse and intern all the 3pp.pb package definition files so that
packages can be identified by their name. For example, if you pass:

  path/
    pkgname/
      3pp.pb
      install.sh

This would parse path/pkgname/3pp.pb and register the "pkgname" package.

Args:
  * path (Path) - A path to a directory full of package definitions. Each
    package definition is a directory containing at least a 3pp.pb file,
    whose behavior is defined by 3pp.proto.

Returns a set(str) containing the names of the packages which were loaded.

Raises a DuplicatePackage exception if this function encounters a package
whose name is already registered. This could occur if you call
load_packages_from_path multiple times, and one of the later calls tries to
load a pacakge which was registered under one of the earlier calls.
### *recipe_modules* / [wct](/recipes/recipe_modules/wct)

[DEPS](/recipes/recipe_modules/wct/__init__.py#1): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/step][recipe_engine/recipe_modules/step]

#### **class [WCTApi](/recipes/recipe_modules/wct/api.py#8)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

WCTApi provides support for running Web Component Tests

&mdash; **def [install](/recipes/recipe_modules/wct/api.py#14)(self):**

&mdash; **def [run](/recipes/recipe_modules/wct/api.py#29)(self, root, prefix='test/', step_name='Run WCT tests'):**
### *recipe_modules* / [windows\_sdk](/recipes/recipe_modules/windows_sdk)

[DEPS](/recipes/recipe_modules/windows_sdk/__init__.py#5): [recipe\_engine/cipd][recipe_engine/recipe_modules/cipd], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/step][recipe_engine/recipe_modules/step]

#### **class [WindowsSDKApi](/recipes/recipe_modules/windows_sdk/api.py#10)([RecipeApi][recipe_engine/wkt/RecipeApi]):**

API for using Windows SDK distributed via CIPD.

&emsp; **@contextmanager**<br>&mdash; **def [\_\_call\_\_](/recipes/recipe_modules/windows_sdk/api.py#18)(self, path=None, version=None, enabled=True):**

Setups the SDK environment when enabled.

Args:
  path (path): Path to a directory where to install the SDK
    (default is '[start_dir]/cipd/windows_sdk')
  version (str): CIPD instance ID, tag or ref of the SDK
    (default is set via $infra/windows_sdk.version property)
  enabled (bool): Whether the SDK should be used or not.

Raises:
    StepFailure or InfraFailure.
## Recipes

### *recipes* / [build\_conda\_cipd\_pkg](/recipes/recipes/build_conda_cipd_pkg.py)

[DEPS](/recipes/recipes/build_conda_cipd_pkg.py#20): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [conda](#recipe_modules-conda), [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties]

Recipe to build CIPD package with sealed Conda environment.

Supposed to be used from manually triggered Buildbot builders. We aren't
expecting rebuilding this environment often, so setting up and periodic schedule
is a waste of resources.

To build a new package for all platforms:
1. Manually trigger all builders by clicking buttons in Buildbot.
2. Once they all complete, tag the with some release identifier by running:
    ./cipd set-tag infra/conda_python/scientific/         -tag=release:<name>         -version=latest
3. Update Puppet configs to use 'release:<name>' as a version.

&mdash; **def [RunSteps](/recipes/recipes/build_conda_cipd_pkg.py#42)(api):**
### *recipes* / [build\_from\_tarball](/recipes/recipes/build_from_tarball.py)

[DEPS](/recipes/recipes/build_from_tarball.py#5): [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/build_from_tarball.py#17)(api):**
### *recipes* / [build\_gsutil\_cipd\_pkg](/recipes/recipes/build_gsutil_cipd_pkg.py)

[DEPS](/recipes/recipes/build_gsutil_cipd_pkg.py#5): [build/zip][build/recipe_modules/zip], [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/build_gsutil_cipd_pkg.py#52)(api):**
### *recipes* / [depot\_tools\_builder](/recipes/recipes/depot_tools_builder.py)

[DEPS](/recipes/recipes/depot_tools_builder.py#7): [build/zip][build/recipe_modules/zip], [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/tempfile][recipe_engine/recipe_modules/tempfile]

Recipe to build windows depot_tools bootstrap zipfile.

&mdash; **def [RunSteps](/recipes/recipes/depot_tools_builder.py#32)(api, revision):**
### *recipes* / [docker\_image\_builder](/recipes/recipes/docker_image_builder.py)

[DEPS](/recipes/recipes/docker_image_builder.py#6): [build/docker][build/recipe_modules/docker], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/service\_account][recipe_engine/recipe_modules/service_account], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

&mdash; **def [RunSteps](/recipes/recipes/docker_image_builder.py#26)(api):**
### *recipes* / [gae\_sdk\_cipd\_packager](/recipes/recipes/gae_sdk_cipd_packager.py)

[DEPS](/recipes/recipes/gae_sdk_cipd_packager.py#9): [build/gae\_sdk][build/recipe_modules/gae_sdk], [build/zip][build/recipe_modules/zip], [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/gae_sdk_cipd_packager.py#21)(api):**
### *recipes* / [gerrit\_cq\_test](/recipes/recipes/gerrit_cq_test.py)

[DEPS](/recipes/recipes/gerrit_cq_test.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/gerrit_cq_test.py#15)(api):**
### *recipes* / [gerrit\_hello\_world](/recipes/recipes/gerrit_hello_world.py)

[DEPS](/recipes/recipes/gerrit_hello_world.py#8): [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

Pushes a trivial CL to Gerrit to verify git authentication works on LUCI.

&mdash; **def [RunSteps](/recipes/recipes/gerrit_hello_world.py#22)(api):**
### *recipes* / [goma\_hello\_world](/recipes/recipes/goma_hello_world.py)

[DEPS](/recipes/recipes/goma_hello_world.py#12): [build/goma][build/recipe_modules/goma], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

Compiles trivial C++ program using Goma.

Intended to be used as a very simple litmus test of Goma health on LUCI staging
environment. Linux and OSX only.

&mdash; **def [RunSteps](/recipes/recipes/goma_hello_world.py#43)(api):**
### *recipes* / [gsubmodd](/recipes/recipes/gsubmodd.py)

[DEPS](/recipes/recipes/gsubmodd.py#14): [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python]

Runs git submodule daemon (gsubmodd) against a given source repo.

Intended to be called periodically (see CYCLE_TIME_SEC). Runs several iterations
of the daemon and then quits so that recipe has a chance to resync the source
code.

&mdash; **def [RunSteps](/recipes/recipes/gsubmodd.py#36)(api, source_repo, target_repo, limit=''):**
### *recipes* / [gsubtreed](/recipes/recipes/gsubtreed.py)

[DEPS](/recipes/recipes/gsubtreed.py#17): [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

Runs git subtree daemon (gsubtreed) against Chromium src repo.

Intended to be called periodically (see CYCLE_TIME_SEC). Runs several iteration
of the daemon and then quits so that recipe has a chance to resync the source
code.

&mdash; **def [RunSteps](/recipes/recipes/gsubtreed.py#42)(api, target_repo, cycle_time_sec, max_error_count):**
### *recipes* / [gsutil\_hello\_world](/recipes/recipes/gsutil_hello_world.py)

[DEPS](/recipes/recipes/gsutil_hello_world.py#8): [depot\_tools/depot\_tools][depot_tools/recipe_modules/depot_tools], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

Pushes a trivial CL to Gerrit to verify git authentication works on LUCI.

&mdash; **def [RunSteps](/recipes/recipes/gsutil_hello_world.py#21)(api):**
### *recipes* / [infra\_checkout:examples/full](/recipes/recipe_modules/infra_checkout/examples/full.py)

[DEPS](/recipes/recipe_modules/infra_checkout/examples/full.py#5): [depot\_tools/tryserver][depot_tools/recipe_modules/tryserver], [infra\_checkout](#recipe_modules-infra_checkout), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime]

&mdash; **def [RunSteps](/recipes/recipe_modules/infra_checkout/examples/full.py#17)(api):**
### *recipes* / [infra\_cipd:examples/usage](/recipes/recipe_modules/infra_cipd/examples/usage.py)

[DEPS](/recipes/recipe_modules/infra_cipd/examples/usage.py#8): [infra\_cipd](#recipe_modules-infra_cipd), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipe_modules/infra_cipd/examples/usage.py#22)(api):**
### *recipes* / [infra\_continuous](/recipes/recipes/infra_continuous.py)

[DEPS](/recipes/recipes/infra_continuous.py#10): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/depot\_tools][depot_tools/recipe_modules/depot_tools], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/infra\_paths][depot_tools/recipe_modules/infra_paths], [infra\_checkout](#recipe_modules-infra_checkout), [infra\_cipd](#recipe_modules-infra_cipd), [infra\_system](#recipe_modules-infra_system), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/infra_continuous.py#106)(api):**

&mdash; **def [build\_main](/recipes/recipes/infra_continuous.py#147)(api, buildername, project_name, repo_url, rev):**
### *recipes* / [infra\_continuous\_luci](/recipes/recipes/infra_continuous_luci.py)

[DEPS](/recipes/recipes/infra_continuous_luci.py#14): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

Builds and tests infra.git code.

Very dumb for now, with no side effects. Runs continuously on LUCI in both
staging and prod environments.

&mdash; **def [RunSteps](/recipes/recipes/infra_continuous_luci.py#25)(api):**
### *recipes* / [infra\_repo\_trybot](/recipes/recipes/infra_repo_trybot.py)

[DEPS](/recipes/recipes/infra_repo_trybot.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [infra\_checkout](#recipe_modules-infra_checkout), [infra\_system](#recipe_modules-infra_system), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/infra_repo_trybot.py#22)(api):**
### *recipes* / [infra\_system:examples/full](/recipes/recipe_modules/infra_system/examples/full.py)

[DEPS](/recipes/recipe_modules/infra_system/examples/full.py#5): [infra\_system](#recipe_modules-infra_system), [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipe_modules/infra_system/examples/full.py#13)(api):**
### *recipes* / [infra\_wct\_tester](/recipes/recipes/infra_wct_tester.py)

[DEPS](/recipes/recipes/infra_wct_tester.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [wct](#recipe_modules-wct), [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/infra_wct_tester.py#14)(api):**
### *recipes* / [lkgr\_finder](/recipes/recipes/lkgr_finder.py)

[DEPS](/recipes/recipes/lkgr_finder.py#8): [build/chromium\_checkout][build/recipe_modules/chromium_checkout], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/lkgr_finder.py#59)(api, buildername):**
### *recipes* / [luci\_check](/recipes/recipes/luci_check.py)

[DEPS](/recipes/recipes/luci_check.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python]

&mdash; **def [RunSteps](/recipes/recipes/luci_check.py#16)(api):**
### *recipes* / [luci\_gae](/recipes/recipes/luci_gae.py)

[DEPS](/recipes/recipes/luci_gae.py#5): [depot\_tools/tryserver][depot_tools/recipe_modules/tryserver], [infra\_checkout](#recipe_modules-infra_checkout), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime]

&mdash; **def [RunSteps](/recipes/recipes/luci_gae.py#18)(api):**
### *recipes* / [luci\_go](/recipes/recipes/luci_go.py)

[DEPS](/recipes/recipes/luci_go.py#7): [depot\_tools/tryserver][depot_tools/recipe_modules/tryserver], [infra\_checkout](#recipe_modules-infra_checkout), [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime]

&mdash; **def [RunSteps](/recipes/recipes/luci_go.py#28)(api, GOARCH):**
### *recipes* / [luci\_py](/recipes/recipes/luci_py.py)

[DEPS](/recipes/recipes/luci_py.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/buildbucket][recipe_engine/recipe_modules/buildbucket], [recipe\_engine/properties][recipe_engine/recipe_modules/properties]

&mdash; **def [RunSteps](/recipes/recipes/luci_py.py#13)(api):**
### *recipes* / [master\_manager\_config](/recipes/recipes/master_manager_config.py)

[DEPS](/recipes/recipes/master_manager_config.py#5): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/infra\_paths][depot_tools/recipe_modules/infra_paths], [infra\_checkout](#recipe_modules-infra_checkout), [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/master_manager_config.py#19)(api):**
### *recipes* / [publish\_tarball](/recipes/recipes/publish_tarball.py)

[DEPS](/recipes/recipes/publish_tarball.py#11): [build/chromium][build/recipe_modules/chromium], [build/trigger][build/recipe_modules/trigger], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/depot\_tools][depot_tools/recipe_modules/depot_tools], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/gsutil][depot_tools/recipe_modules/gsutil], [omahaproxy](#recipe_modules-omahaproxy), [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/publish_tarball.py#202)(api):**

&emsp; **@contextlib.contextmanager**<br>&mdash; **def [copytree\_checkout](/recipes/recipes/publish_tarball.py#99)(api):**

&emsp; **@recipe_api.composite_step**<br>&mdash; **def [export\_lite\_tarball](/recipes/recipes/publish_tarball.py#110)(api, version):**

&emsp; **@recipe_api.composite_step**<br>&mdash; **def [export\_nacl\_tarball](/recipes/recipes/publish_tarball.py#178)(api, version):**

&emsp; **@recipe_api.composite_step**<br>&mdash; **def [export\_tarball](/recipes/recipes/publish_tarball.py#67)(api, args, source, destination):**

&mdash; **def [gsutil\_upload](/recipes/recipes/publish_tarball.py#40)(api, source, bucket, dest, args):**

&mdash; **def [published\_all\_tarballs](/recipes/recipes/publish_tarball.py#60)(version, ls_result):**

&mdash; **def [published\_full\_tarball](/recipes/recipes/publish_tarball.py#44)(version, ls_result):**

&mdash; **def [published\_lite\_tarball](/recipes/recipes/publish_tarball.py#48)(version, ls_result):**

&mdash; **def [published\_nacl\_tarball](/recipes/recipes/publish_tarball.py#56)(version, ls_result):**

&mdash; **def [published\_test\_tarball](/recipes/recipes/publish_tarball.py#52)(version, ls_result):**
### *recipes* / [recipe\_autoroller](/recipes/recipes/recipe_autoroller.py)

[DEPS](/recipes/recipes/recipe_autoroller.py#7): [build/luci\_config][build/recipe_modules/luci_config], [build/puppet\_service\_account][build/recipe_modules/puppet_service_account], [recipe\_autoroller](#recipe_modules-recipe_autoroller), [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/step][recipe_engine/recipe_modules/step], [recipe\_engine/time][recipe_engine/recipe_modules/time]

Rolls recipes.cfg dependencies for public projects.

&mdash; **def [RunSteps](/recipes/recipes/recipe_autoroller.py#51)(api, projects, auth_token, service_account):**
### *recipes* / [recipe\_bundler](/recipes/recipes/recipe_bundler.py)

[DEPS](/recipes/recipes/recipe_bundler.py#8): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/recipe_bundler.py#41)(api, recipe_bundler_pkg, recipe_bundler_vers, repo_specs, package_name_prefix, package_name_internal_prefix):**
### *recipes* / [recipe\_roll\_tryjob](/recipes/recipes/recipe_roll_tryjob.py)

[DEPS](/recipes/recipes/recipe_roll_tryjob.py#8): [build/luci\_config][build/recipe_modules/luci_config], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [depot\_tools/tryserver][depot_tools/recipe_modules/tryserver], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/service\_account][recipe_engine/recipe_modules/service_account], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipes/recipe_roll_tryjob.py#74)(api, upstream_project, downstream_project):**
### *recipes* / [recipe\_simulation](/recipes/recipes/recipe_simulation.py)

[DEPS](/recipes/recipes/recipe_simulation.py#8): [build/luci\_config][build/recipe_modules/luci_config], [build/puppet\_service\_account][build/recipe_modules/puppet_service_account], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

A continuous builder which runs recipe tests.

&mdash; **def [RunSteps](/recipes/recipes/recipe_simulation.py#33)(api, project_under_test, auth_with_account):**
### *recipes* / [recipes\_py\_continuous](/recipes/recipes/recipes_py_continuous.py)

[DEPS](/recipes/recipes/recipes_py_continuous.py#7): [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties]

&mdash; **def [RunSteps](/recipes/recipes/recipes_py_continuous.py#22)(api, mastername, buildername, buildnumber):**
### *recipes* / [remote\_execute\_dataflow\_workflow](/recipes/recipes/remote_execute_dataflow_workflow.py)

[DEPS](/recipes/recipes/remote_execute_dataflow_workflow.py#22): [build/puppet\_service\_account][build/recipe_modules/puppet_service_account], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

This recipe is used to execute Dataflow workflows.

If you want a workflow to run at regular intervals, you can configure a builder
to run this recipe. Dataflow workflows run on an internal builder, so this step
must be completed by a Google employee. See this change for an example:
https://chrome-internal-review.googlesource.com/c/chrome/tools/build/+/412934

Builders configured with the name matching "dataflow-workflow-.*" will be
automatically monitored for failures.

This recipe uses the dataflow-launcher service account. That account must have
the permission to schedule a Dataflow job for your project.

&mdash; **def [RunSteps](/recipes/recipes/remote_execute_dataflow_workflow.py#50)(api, workflow, job_name, gcp_project_id, num_workers, timeout):**
### *recipes* / [sync\_submodules](/recipes/recipes/sync_submodules.py)

[DEPS](/recipes/recipes/sync_submodules.py#7): [sync\_submodules](#recipe_modules-sync_submodules), [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime]

&mdash; **def [RunSteps](/recipes/recipes/sync_submodules.py#20)(api, disable_path_prefix):**
### *recipes* / [third\_party\_packages](/recipes/recipes/third_party_packages.py)

[DEPS](/recipes/recipes/third_party_packages.py#10): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

This recipe builds and packages third party software, such as Git.

&mdash; **def [RunSteps](/recipes/recipes/third_party_packages.py#28)(api, cross_platform):**
### *recipes* / [third\_party\_packages:examples/cmake](/recipes/recipe_modules/third_party_packages/examples/cmake.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/cmake.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for 'cmake' building.

During testing, it may be useful to focus on building CMake. This can be done by
running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/cmake.py#44)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/dep](/recipes/recipe_modules/third_party_packages/examples/dep.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/dep.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for Go dependency management tool building.

During testing, it may be useful to focus on building dep. This can be done
by running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/dep.py#47)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/firebase](/recipes/recipe_modules/third_party_packages/examples/firebase.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/firebase.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for firebase-tools building.

During testing, it may be useful to focus on building the firebase-tools. This
can be done by running this recipe directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/firebase.py#30)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/gcloud](/recipes/recipe_modules/third_party_packages/examples/gcloud.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/gcloud.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for Google Cloud SDK building.

During testing, it may be useful to focus on building the SDK. This can be done
by running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/gcloud.py#39)(api, platform_name, platform_bits, dry_run):**
### *recipes* / [third\_party\_packages:examples/git](/recipes/recipe_modules/third_party_packages/examples/git.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/git.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for 'git' building.

During testing, it may be useful to focus on building Git. This can be done by
running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/git.py#67)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/go](/recipes/recipe_modules/third_party_packages/examples/go.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/go.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for Go toolchain building.

During testing, it may be useful to focus on building Go. This can be done
by running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/go.py#39)(api, platform_name, platform_bits, dry_run):**
### *recipes* / [third\_party\_packages:examples/gsutil](/recipes/recipe_modules/third_party_packages/examples/gsutil.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/gsutil.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for gsutil building.

During testing, it may be useful to focus on building the gsutil. This can be
done by running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/gsutil.py#28)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/ninja](/recipes/recipe_modules/third_party_packages/examples/ninja.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/ninja.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for 'ninja' building.

During testing, it may be useful to focus on building Ninja. This can be done by
running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/ninja.py#45)(api, dry_run):**
### *recipes* / [third\_party\_packages:examples/python](/recipes/recipe_modules/third_party_packages/examples/python.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/python.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties]

Recipe for 'python' building.

During testing, it may be useful to focus on building Python. This can be done
by running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/python.py#28)(api, dry_run, cross_platform):**
### *recipes* / [third\_party\_packages:examples/swig](/recipes/recipe_modules/third_party_packages/examples/swig.py)

[DEPS](/recipes/recipe_modules/third_party_packages/examples/swig.py#14): [depot\_tools/cipd][depot_tools/recipe_modules/cipd], [depot\_tools/gitiles][depot_tools/recipe_modules/gitiles], [third\_party\_packages](#recipe_modules-third_party_packages), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/url][recipe_engine/recipe_modules/url]

Recipe for 'swig' building.

During testing, it may be useful to focus on building Swig. This can be done by
running this recipe module directly.

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages/examples/swig.py#43)(api, dry_run):**
### *recipes* / [third\_party\_packages\_ng](/recipes/recipes/third_party_packages_ng.py)

[DEPS](/recipes/recipes/third_party_packages_ng.py#13): [depot\_tools/git][depot_tools/recipe_modules/git], [third\_party\_packages\_ng](#recipe_modules-third_party_packages_ng), [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/runtime][recipe_engine/recipe_modules/runtime], [recipe\_engine/step][recipe_engine/recipe_modules/step]

This recipe builds and packages third party software, such as Git.

&mdash; **def [RunSteps](/recipes/recipes/third_party_packages_ng.py#60)(api, package_locations, to_build, platform, force_build):**
### *recipes* / [third\_party\_packages\_ng:tests/full](/recipes/recipe_modules/third_party_packages_ng/tests/full.py)

[DEPS](/recipes/recipe_modules/third_party_packages_ng/tests/full.py#7): [third\_party\_packages\_ng](#recipe_modules-third_party_packages_ng), [recipe\_engine/cipd][recipe_engine/recipe_modules/cipd], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/raw\_io][recipe_engine/recipe_modules/raw_io]

&mdash; **def [RunSteps](/recipes/recipe_modules/third_party_packages_ng/tests/full.py#24)(api, GOOS, GOARCH, load_dupe):**
### *recipes* / [tricium\_noop](/recipes/recipes/tricium_noop.py)

[DEPS](/recipes/recipes/tricium_noop.py#12): [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/tricium][recipe_engine/recipe_modules/tricium]

Recipe for Tricium that outputs no results.

This is intended to be used as the default recipe for the
tricium builder, which shouldn't actually be used in runs
triggered by Tricium.

&mdash; **def [RunSteps](/recipes/recipes/tricium_noop.py#21)(api):**
### *recipes* / [windows\_sdk:examples/full](/recipes/recipe_modules/windows_sdk/examples/full.py)

[DEPS](/recipes/recipe_modules/windows_sdk/examples/full.py#5): [windows\_sdk](#recipe_modules-windows_sdk), [recipe\_engine/platform][recipe_engine/recipe_modules/platform], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/step][recipe_engine/recipe_modules/step]

&mdash; **def [RunSteps](/recipes/recipe_modules/windows_sdk/examples/full.py#13)(api):**
### *recipes* / [wpt\_export](/recipes/recipes/wpt_export.py)

[DEPS](/recipes/recipes/wpt_export.py#17): [build/chromium][build/recipe_modules/chromium], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python]

Exports commits in Chromium to the web-platform-tests repo.

This recipe runs the wpt-export script; it is expected to be run as a
recurring job at a short interval. It creates pull requests on GitHub
for Chromium commits that contain exportable changes, merges these
pull requests.

See: //docs/testing/web_platform_tests.md (https://goo.gl/rSRGmZ)

&mdash; **def [RunSteps](/recipes/recipes/wpt_export.py#29)(api):**
### *recipes* / [wpt\_import](/recipes/recipes/wpt_import.py)

[DEPS](/recipes/recipes/wpt_import.py#17): [build/chromium][build/recipe_modules/chromium], [depot\_tools/bot\_update][depot_tools/recipe_modules/bot_update], [depot\_tools/gclient][depot_tools/recipe_modules/gclient], [depot\_tools/git][depot_tools/recipe_modules/git], [recipe\_engine/context][recipe_engine/recipe_modules/context], [recipe\_engine/file][recipe_engine/recipe_modules/file], [recipe\_engine/json][recipe_engine/recipe_modules/json], [recipe\_engine/path][recipe_engine/recipe_modules/path], [recipe\_engine/properties][recipe_engine/recipe_modules/properties], [recipe\_engine/python][recipe_engine/recipe_modules/python], [recipe\_engine/step][recipe_engine/recipe_modules/step]

Imports changes from web-platform-tests into Chromium.

This recipe runs the wpt-import script. The import process involves
first fetching the latest changes from web-platform-tests, then running
the tests via try jobs and and updating any baselines and expectations,
before committing to Chromium.

See: //docs/testing/web_platform_tests.md (https://goo.gl/rSRGmZ)

&mdash; **def [RunSteps](/recipes/recipes/wpt_import.py#32)(api):**

&mdash; **def [git\_cl\_issue\_link](/recipes/recipes/wpt_import.py#96)(api):**

Runs a step which adds a link to the current CL if there is one.

[build/recipe_modules/chromium]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-chromium
[build/recipe_modules/chromium_checkout]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-chromium_checkout
[build/recipe_modules/docker]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-docker
[build/recipe_modules/gae_sdk]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-gae_sdk
[build/recipe_modules/goma]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-goma
[build/recipe_modules/luci_config]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-luci_config
[build/recipe_modules/puppet_service_account]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-puppet_service_account
[build/recipe_modules/trigger]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-trigger
[build/recipe_modules/zip]: https://chromium.googlesource.com/chromium/tools/build.git/+/3e48434491b43ae27fad626f4b0927c47520684f/scripts/slave/README.recipes.md#recipe_modules-zip
[depot_tools/recipe_modules/bot_update]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-bot_update
[depot_tools/recipe_modules/cipd]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-cipd
[depot_tools/recipe_modules/depot_tools]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-depot_tools
[depot_tools/recipe_modules/gclient]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-gclient
[depot_tools/recipe_modules/git]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-git
[depot_tools/recipe_modules/git_cl]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-git_cl
[depot_tools/recipe_modules/gitiles]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-gitiles
[depot_tools/recipe_modules/gsutil]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-gsutil
[depot_tools/recipe_modules/infra_paths]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-infra_paths
[depot_tools/recipe_modules/osx_sdk]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-osx_sdk
[depot_tools/recipe_modules/presubmit]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-presubmit
[depot_tools/recipe_modules/tryserver]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-tryserver
[depot_tools/recipe_modules/windows_sdk]: https://chromium.googlesource.com/chromium/tools/depot_tools.git/+/69f640ec0900add7fd44579c181fa99ea1693005/recipes/README.recipes.md#recipe_modules-windows_sdk
[recipe_engine/recipe_modules/archive]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-archive
[recipe_engine/recipe_modules/buildbucket]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-buildbucket
[recipe_engine/recipe_modules/cipd]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-cipd
[recipe_engine/recipe_modules/context]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-context
[recipe_engine/recipe_modules/file]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-file
[recipe_engine/recipe_modules/json]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-json
[recipe_engine/recipe_modules/path]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-path
[recipe_engine/recipe_modules/platform]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-platform
[recipe_engine/recipe_modules/properties]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-properties
[recipe_engine/recipe_modules/python]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-python
[recipe_engine/recipe_modules/raw_io]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-raw_io
[recipe_engine/recipe_modules/runtime]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-runtime
[recipe_engine/recipe_modules/service_account]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-service_account
[recipe_engine/recipe_modules/step]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-step
[recipe_engine/recipe_modules/tempfile]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-tempfile
[recipe_engine/recipe_modules/time]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-time
[recipe_engine/recipe_modules/tricium]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-tricium
[recipe_engine/recipe_modules/url]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/README.recipes.md#recipe_modules-url
[recipe_engine/wkt/RecipeApi]: https://chromium.googlesource.com/infra/luci/recipes-py.git/+/7a22cddcd7f3255e357a63c73df4396a43def8cd/recipe_engine/recipe_api.py#1012
