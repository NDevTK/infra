{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c746f495_0de4525b",
        "filename": "go/src/infra/cros/recovery/config/config_cros_repair.go",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1377969
      },
      "writtenOn": "2022-09-19T23:46:01Z",
      "side": 1,
      "message": "I beleive the futility update logic already had 10 retries, now we might be at 30. On an unhealthy dut where this is failing every time, how often might this run?",
      "revId": "3eb396aa4cec65da9673a5974c75bbbfdd8be354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97869212_2663cdca",
        "filename": "go/src/infra/cros/recovery/config/config_cros_repair.go",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1393275
      },
      "writtenOn": "2022-09-20T00:46:25Z",
      "side": 1,
      "message": "could i ask to point to logic specified 10 retries.",
      "parentUuid": "c746f495_0de4525b",
      "revId": "3eb396aa4cec65da9673a5974c75bbbfdd8be354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10a6afcc_46606a5d",
        "filename": "go/src/infra/cros/recovery/config/config_cros_repair.go",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1408939
      },
      "writtenOn": "2022-09-20T01:51:21Z",
      "side": 1,
      "message": "I would expect most retries wouldn\u0027t actually modify the flash though.\n\nIf we do write the flash that many times and it still fails, then it might be damaged already. I guess it\u0027s possible that it could write and fail because of a  timeout or something though.",
      "parentUuid": "c746f495_0de4525b",
      "revId": "3eb396aa4cec65da9673a5974c75bbbfdd8be354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "537174d1_79321e4a",
        "filename": "go/src/infra/cros/recovery/config/config_cros_repair.go",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1377969
      },
      "writtenOn": "2022-09-20T03:37:20Z",
      "side": 1,
      "message": "Right you are nik, it ought to detect no diff and so issue no writes if the write works the first time. There will be edge cases but maybe we dont care enough. \n\nHere are the futility retries otabek: https://source.chromium.org/chromiumos/chromiumos/codesearch/+/9f2e9804b492f8fccc060e013b12de9679cca246:src/platform/vboot_reference/futility/updater_utils.c;l\u003d769\n\nI would like to know how often repair logic gets run though if I may?",
      "parentUuid": "10a6afcc_46606a5d",
      "revId": "3eb396aa4cec65da9673a5974c75bbbfdd8be354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3c12127_ee0581e2",
        "filename": "go/src/infra/cros/recovery/internal/components/cros/firmware/firmware.go",
        "patchSetId": 2
      },
      "lineNbr": 401,
      "author": {
        "id": 1393275
      },
      "writtenOn": "2022-09-20T00:46:25Z",
      "side": 1,
      "message": "do we now use it for all board/models?",
      "range": {
        "startLine": 401,
        "startChar": 3,
        "endLine": 401,
        "endChar": 67
      },
      "revId": "3eb396aa4cec65da9673a5974c75bbbfdd8be354",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}