// Copyright 2024 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

package main

import (
	"fmt"
	"slices"
	"testing"
)

func TestShardByHash(t *testing.T) {
	testShardFunc(t, shardTestsByHash)
}

func TestShardByWeight(t *testing.T) {
	testShardFunc(t, shardTestsByWeight)
}

type shardFunc func(tests []string, shard testShard, longtest, race bool) []string

func testShardFunc(t *testing.T, f shardFunc) {
	for _, longtest := range []bool{false, true} {
		for _, race := range []bool{false, true} {
			for _, n := range []int{1, 2, 3, 4, 5, 10, 12} {
				t.Run(fmt.Sprintf("Shards=%d", n), func(t *testing.T) {
					testShardFuncByN(t, f, n, longtest, race)
				})
			}
		}
	}
}

func testShardFuncByN(t *testing.T, f shardFunc, n int, longtest, race bool) {
	allTests := testNames()

	// Shard all the tests.
	shardTests := make([][]string, n)
	for i := 0; i < n; i++ {
		shardTests[i] = f(allTests, testShard{shardID: uint32(i), nShards: uint32(n)}, longtest, race)
	}

	// Concatenate and sort the tests.
	gotTests := make([]string, 0, len(allTests))
	for _, tests := range shardTests {
		gotTests = append(gotTests, tests...)
	}
	slices.Sort(gotTests)
	slices.Sort(allTests)

	// Compare them.
	if !slices.Equal(gotTests, allTests) {
		t.Logf("got:")
		for _, name := range gotTests {
			t.Logf("\t%q", name)
		}
		t.Logf("want:")
		for _, name := range allTests {
			t.Logf("\t%q", name)
		}
		t.Fatal("sharding tests didn't produce original set")
	}
}

func testNames() []string {
	return []string{
		"archive/tar",
		"archive/zip",
		"bufio",
		"bytes",
		"cmp",
		"compress/bzip2",
		"compress/flate",
		"compress/gzip",
		"compress/lzw",
		"compress/zlib",
		"container/heap",
		"container/list",
		"container/ring",
		"context",
		"crypto",
		"crypto/aes",
		"crypto/cipher",
		"crypto/des",
		"crypto/dsa",
		"crypto/ecdh",
		"crypto/ecdsa",
		"crypto/ed25519",
		"crypto/elliptic",
		"crypto/hmac",
		"crypto/internal/alias",
		"crypto/internal/bigmod",
		"crypto/internal/boring",
		"crypto/internal/boring/bbig",
		"crypto/internal/boring/bcache",
		"crypto/internal/boring/sig",
		"crypto/internal/edwards25519",
		"crypto/internal/edwards25519/field",
		"crypto/internal/nistec",
		"crypto/internal/nistec/fiat",
		"crypto/internal/randutil",
		"crypto/md5",
		"crypto/rand",
		"crypto/rc4",
		"crypto/rsa",
		"crypto/sha1",
		"crypto/sha256",
		"crypto/sha512",
		"crypto/subtle",
		"crypto/tls",
		"crypto/x509",
		"crypto/x509/pkix",
		"database/sql",
		"database/sql/driver",
		"debug/buildinfo",
		"debug/dwarf",
		"debug/elf",
		"debug/gosym",
		"debug/macho",
		"debug/pe",
		"debug/plan9obj",
		"embed",
		"embed/internal/embedtest",
		"encoding",
		"encoding/ascii85",
		"encoding/asn1",
		"encoding/base32",
		"encoding/base64",
		"encoding/binary",
		"encoding/csv",
		"encoding/gob",
		"encoding/hex",
		"encoding/json",
		"encoding/pem",
		"encoding/xml",
		"errors",
		"expvar",
		"flag",
		"fmt",
		"go/ast",
		"go/build",
		"go/build/constraint",
		"go/constant",
		"go/doc",
		"go/doc/comment",
		"go/format",
		"go/importer",
		"go/internal/gccgoimporter",
		"go/internal/gcimporter",
		"go/internal/srcimporter",
		"go/internal/typeparams",
		"go/parser",
		"go/printer",
		"go/scanner",
		"go/token",
		"go/types",
		"go/version",
		"hash",
		"hash/adler32",
		"hash/crc32",
		"hash/crc64",
		"hash/fnv",
		"hash/maphash",
		"html",
		"html/template",
		"image",
		"image/color",
		"image/color/palette",
		"image/draw",
		"image/gif",
		"image/internal/imageutil",
		"image/jpeg",
		"image/png",
		"index/suffixarray",
		"internal/abi",
		"internal/asan",
		"internal/bisect",
		"internal/buildcfg",
		"internal/bytealg",
		"internal/cfg",
		"internal/chacha8rand",
		"internal/coverage",
		"internal/coverage/calloc",
		"internal/coverage/cformat",
		"internal/coverage/cmerge",
		"internal/coverage/decodecounter",
		"internal/coverage/decodemeta",
		"internal/coverage/encodecounter",
		"internal/coverage/encodemeta",
		"internal/coverage/pods",
		"internal/coverage/rtcov",
		"internal/coverage/slicereader",
		"internal/coverage/slicewriter",
		"internal/coverage/stringtab",
		"internal/coverage/test",
		"internal/coverage/uleb128",
		"internal/cpu",
		"internal/dag",
		"internal/diff",
		"internal/fmtsort",
		"internal/fuzz",
		"internal/goarch",
		"internal/godebug",
		"internal/godebugs",
		"internal/goexperiment",
		"internal/goos",
		"internal/goroot",
		"internal/gover",
		"internal/goversion",
		"internal/intern",
		"internal/itoa",
		"internal/lazyregexp",
		"internal/lazytemplate",
		"internal/msan",
		"internal/nettrace",
		"internal/obscuretestdata",
		"internal/oserror",
		"internal/pkgbits",
		"internal/platform",
		"internal/poll",
		"internal/profile",
		"internal/race",
		"internal/reflectlite",
		"internal/runtime/syscall",
		"internal/safefilepath",
		"internal/saferio",
		"internal/singleflight",
		"internal/syscall/execenv",
		"internal/syscall/unix",
		"internal/sysinfo",
		"internal/testenv",
		"internal/testlog",
		"internal/testpty",
		"internal/trace",
		"internal/trace/traceviewer",
		"internal/trace/traceviewer/format",
		"internal/trace/v2",
		"internal/trace/v2/event",
		"internal/trace/v2/event/go122",
		"internal/trace/v2/internal/oldtrace",
		"internal/trace/v2/internal/testgen/go122",
		"internal/trace/v2/raw",
		"internal/trace/v2/testtrace",
		"internal/trace/v2/version",
		"internal/txtar",
		"internal/types/errors",
		"internal/unsafeheader",
		"internal/xcoff",
		"internal/zstd",
		"io",
		"io/fs",
		"io/ioutil",
		"log",
		"log/internal",
		"log/slog",
		"log/slog/internal",
		"log/slog/internal/benchmarks",
		"log/slog/internal/buffer",
		"log/slog/internal/slogtest",
		"log/syslog",
		"maps",
		"math",
		"math/big",
		"math/bits",
		"math/cmplx",
		"math/rand",
		"math/rand/v2",
		"mime",
		"mime/multipart",
		"mime/quotedprintable",
		"net",
		"net/http",
		"net/http/cgi",
		"net/http/cookiejar",
		"net/http/fcgi",
		"net/http/httptest",
		"net/http/httptrace",
		"net/http/httputil",
		"net/http/internal",
		"net/http/internal/ascii",
		"net/http/internal/testcert",
		"net/http/pprof",
		"net/internal/cgotest",
		"net/internal/socktest",
		"net/mail",
		"net/netip",
		"net/rpc",
		"net/rpc/jsonrpc",
		"net/smtp",
		"net/textproto",
		"net/url",
		"os",
		"os/exec",
		"os/exec/internal/fdtest",
		"os/signal",
		"os/user",
		"path",
		"path/filepath",
		"plugin",
		"reflect",
		"reflect/internal/example1",
		"reflect/internal/example2",
		"regexp",
		"regexp/syntax",
		"runtime",
		"runtime/cgo",
		"runtime/coverage",
		"runtime/debug",
		"runtime/internal/atomic",
		"runtime/internal/math",
		"runtime/internal/startlinetest",
		"runtime/internal/sys",
		"runtime/internal/wasitest",
		"runtime/metrics",
		"runtime/pprof",
		"runtime/race",
		"runtime/race/internal/amd64v1",
		"runtime/trace",
		"slices",
		"sort",
		"strconv",
		"strings",
		"sync",
		"sync/atomic",
		"syscall",
		"testing",
		"testing/fstest",
		"testing/internal/testdeps",
		"testing/iotest",
		"testing/quick",
		"testing/slogtest",
		"text/scanner",
		"text/tabwriter",
		"text/template",
		"text/template/parse",
		"time",
		"time/tzdata",
		"unicode",
		"unicode/utf16",
		"unicode/utf8",
		"unsafe",
		"vendor/golang.org/x/crypto/chacha20",
		"vendor/golang.org/x/crypto/chacha20poly1305",
		"vendor/golang.org/x/crypto/cryptobyte",
		"vendor/golang.org/x/crypto/cryptobyte/asn1",
		"vendor/golang.org/x/crypto/hkdf",
		"vendor/golang.org/x/crypto/internal/alias",
		"vendor/golang.org/x/crypto/internal/poly1305",
		"vendor/golang.org/x/net/dns/dnsmessage",
		"vendor/golang.org/x/net/http/httpguts",
		"vendor/golang.org/x/net/http/httpproxy",
		"vendor/golang.org/x/net/http2/hpack",
		"vendor/golang.org/x/net/idna",
		"vendor/golang.org/x/net/nettest",
		"vendor/golang.org/x/sys/cpu",
		"vendor/golang.org/x/text/secure/bidirule",
		"vendor/golang.org/x/text/transform",
		"vendor/golang.org/x/text/unicode/bidi",
		"vendor/golang.org/x/text/unicode/norm",
		"cmd/addr2line",
		"cmd/api",
		"cmd/asm",
		"cmd/asm/internal/arch",
		"cmd/asm/internal/asm",
		"cmd/asm/internal/flags",
		"cmd/asm/internal/lex",
		"cmd/buildid",
		"cmd/cgo",
		"cmd/cgo/internal/cgotest",
		"cmd/cgo/internal/swig",
		"cmd/cgo/internal/test",
		"cmd/cgo/internal/test/gcc68255",
		"cmd/cgo/internal/test/issue23555a",
		"cmd/cgo/internal/test/issue23555b",
		"cmd/cgo/internal/test/issue26213",
		"cmd/cgo/internal/test/issue26430",
		"cmd/cgo/internal/test/issue26743",
		"cmd/cgo/internal/test/issue27054",
		"cmd/cgo/internal/test/issue27340",
		"cmd/cgo/internal/test/issue29563",
		"cmd/cgo/internal/test/issue30527",
		"cmd/cgo/internal/test/issue41761a",
		"cmd/cgo/internal/test/issue43639",
		"cmd/cgo/internal/test/issue52611a",
		"cmd/cgo/internal/test/issue52611b",
		"cmd/cgo/internal/test/issue8756",
		"cmd/cgo/internal/test/issue8828",
		"cmd/cgo/internal/test/issue9026",
		"cmd/cgo/internal/test/issue9400",
		"cmd/cgo/internal/test/issue9510a",
		"cmd/cgo/internal/test/issue9510b",
		"cmd/cgo/internal/testcarchive",
		"cmd/cgo/internal/testcshared",
		"cmd/cgo/internal/testerrors",
		"cmd/cgo/internal/testfortran",
		"cmd/cgo/internal/testgodefs",
		"cmd/cgo/internal/testlife",
		"cmd/cgo/internal/testnocgo",
		"cmd/cgo/internal/testplugin",
		"cmd/cgo/internal/testsanitizers",
		"cmd/cgo/internal/testshared",
		"cmd/cgo/internal/testso",
		"cmd/cgo/internal/teststdio",
		"cmd/cgo/internal/testtls",
		"cmd/compile",
		"cmd/compile/internal/abi",
		"cmd/compile/internal/abt",
		"cmd/compile/internal/amd64",
		"cmd/compile/internal/arm",
		"cmd/compile/internal/arm64",
		"cmd/compile/internal/base",
		"cmd/compile/internal/bitvec",
		"cmd/compile/internal/compare",
		"cmd/compile/internal/coverage",
		"cmd/compile/internal/devirtualize",
		"cmd/compile/internal/dwarfgen",
		"cmd/compile/internal/escape",
		"cmd/compile/internal/gc",
		"cmd/compile/internal/importer",
		"cmd/compile/internal/inline",
		"cmd/compile/internal/inline/inlheur",
		"cmd/compile/internal/inline/interleaved",
		"cmd/compile/internal/ir",
		"cmd/compile/internal/liveness",
		"cmd/compile/internal/logopt",
		"cmd/compile/internal/loong64",
		"cmd/compile/internal/loopvar",
		"cmd/compile/internal/mips",
		"cmd/compile/internal/mips64",
		"cmd/compile/internal/noder",
		"cmd/compile/internal/objw",
		"cmd/compile/internal/pgo",
		"cmd/compile/internal/pkginit",
		"cmd/compile/internal/ppc64",
		"cmd/compile/internal/rangefunc",
		"cmd/compile/internal/reflectdata",
		"cmd/compile/internal/riscv64",
		"cmd/compile/internal/rttype",
		"cmd/compile/internal/s390x",
		"cmd/compile/internal/ssa",
		"cmd/compile/internal/ssagen",
		"cmd/compile/internal/staticdata",
		"cmd/compile/internal/staticinit",
		"cmd/compile/internal/syntax",
		"cmd/compile/internal/test",
		"cmd/compile/internal/typebits",
		"cmd/compile/internal/typecheck",
		"cmd/compile/internal/types",
		"cmd/compile/internal/types2",
		"cmd/compile/internal/walk",
		"cmd/compile/internal/wasm",
		"cmd/compile/internal/x86",
		"cmd/covdata",
		"cmd/cover",
		"cmd/dist",
		"cmd/distpack",
		"cmd/doc",
		"cmd/fix",
		"cmd/go",
		"cmd/go/internal/auth",
		"cmd/go/internal/base",
		"cmd/go/internal/bug",
		"cmd/go/internal/cache",
		"cmd/go/internal/cfg",
		"cmd/go/internal/clean",
		"cmd/go/internal/cmdflag",
		"cmd/go/internal/doc",
		"cmd/go/internal/envcmd",
		"cmd/go/internal/fix",
		"cmd/go/internal/fmtcmd",
		"cmd/go/internal/fsys",
		"cmd/go/internal/generate",
		"cmd/go/internal/gover",
		"cmd/go/internal/help",
		"cmd/go/internal/imports",
		"cmd/go/internal/list",
		"cmd/go/internal/load",
		"cmd/go/internal/lockedfile",
		"cmd/go/internal/lockedfile/internal/filelock",
		"cmd/go/internal/mmap",
		"cmd/go/internal/modcmd",
		"cmd/go/internal/modfetch",
		"cmd/go/internal/modfetch/codehost",
		"cmd/go/internal/modfetch/zip_sum_test",
		"cmd/go/internal/modget",
		"cmd/go/internal/modindex",
		"cmd/go/internal/modinfo",
		"cmd/go/internal/modload",
		"cmd/go/internal/mvs",
		"cmd/go/internal/par",
		"cmd/go/internal/robustio",
		"cmd/go/internal/run",
		"cmd/go/internal/script",
		"cmd/go/internal/script/scripttest",
		"cmd/go/internal/search",
		"cmd/go/internal/str",
		"cmd/go/internal/test",
		"cmd/go/internal/test/internal/genflags",
		"cmd/go/internal/tool",
		"cmd/go/internal/toolchain",
		"cmd/go/internal/trace",
		"cmd/go/internal/vcs",
		"cmd/go/internal/vcweb",
		"cmd/go/internal/vcweb/vcstest",
		"cmd/go/internal/version",
		"cmd/go/internal/vet",
		"cmd/go/internal/web",
		"cmd/go/internal/work",
		"cmd/go/internal/workcmd",
		"cmd/gofmt",
		"cmd/internal/archive",
		"cmd/internal/bio",
		"cmd/internal/bootstrap_test",
		"cmd/internal/browser",
		"cmd/internal/buildid",
		"cmd/internal/codesign",
		"cmd/internal/cov",
		"cmd/internal/cov/covcmd",
		"cmd/internal/dwarf",
		"cmd/internal/edit",
		"cmd/internal/gcprog",
		"cmd/internal/goobj",
		"cmd/internal/moddeps",
		"cmd/internal/notsha256",
		"cmd/internal/obj",
		"cmd/internal/obj/arm",
		"cmd/internal/obj/arm64",
		"cmd/internal/obj/loong64",
		"cmd/internal/obj/mips",
		"cmd/internal/obj/ppc64",
		"cmd/internal/obj/riscv",
		"cmd/internal/obj/s390x",
		"cmd/internal/obj/wasm",
		"cmd/internal/obj/x86",
		"cmd/internal/objabi",
		"cmd/internal/objfile",
		"cmd/internal/osinfo",
		"cmd/internal/pkgpath",
		"cmd/internal/pkgpattern",
		"cmd/internal/quoted",
		"cmd/internal/src",
		"cmd/internal/sys",
		"cmd/internal/test2json",
		"cmd/link",
		"cmd/link/internal/amd64",
		"cmd/link/internal/arm",
		"cmd/link/internal/arm64",
		"cmd/link/internal/benchmark",
		"cmd/link/internal/dwtest",
		"cmd/link/internal/ld",
		"cmd/link/internal/loadelf",
		"cmd/link/internal/loader",
		"cmd/link/internal/loadmacho",
		"cmd/link/internal/loadpe",
		"cmd/link/internal/loadxcoff",
		"cmd/link/internal/loong64",
		"cmd/link/internal/mips",
		"cmd/link/internal/mips64",
		"cmd/link/internal/ppc64",
		"cmd/link/internal/riscv64",
		"cmd/link/internal/s390x",
		"cmd/link/internal/sym",
		"cmd/link/internal/wasm",
		"cmd/link/internal/x86",
		"cmd/nm",
		"cmd/objdump",
		"cmd/pack",
		"cmd/pprof",
		"cmd/preprofile",
		"cmd/relnote",
		"cmd/test2json",
		"cmd/trace",
		"cmd/trace/v2",
		"cmd/vendor/github.com/google/pprof/driver",
		"cmd/vendor/github.com/google/pprof/internal/binutils",
		"cmd/vendor/github.com/google/pprof/internal/driver",
		"cmd/vendor/github.com/google/pprof/internal/elfexec",
		"cmd/vendor/github.com/google/pprof/internal/graph",
		"cmd/vendor/github.com/google/pprof/internal/measurement",
		"cmd/vendor/github.com/google/pprof/internal/plugin",
		"cmd/vendor/github.com/google/pprof/internal/report",
		"cmd/vendor/github.com/google/pprof/internal/symbolizer",
		"cmd/vendor/github.com/google/pprof/internal/symbolz",
		"cmd/vendor/github.com/google/pprof/internal/transport",
		"cmd/vendor/github.com/google/pprof/profile",
		"cmd/vendor/github.com/google/pprof/third_party/svgpan",
		"cmd/vendor/github.com/ianlancetaylor/demangle",
		"cmd/vendor/golang.org/x/arch/arm/armasm",
		"cmd/vendor/golang.org/x/arch/arm64/arm64asm",
		"cmd/vendor/golang.org/x/arch/ppc64/ppc64asm",
		"cmd/vendor/golang.org/x/arch/x86/x86asm",
		"cmd/vendor/golang.org/x/build/relnote",
		"cmd/vendor/golang.org/x/mod/internal/lazyregexp",
		"cmd/vendor/golang.org/x/mod/modfile",
		"cmd/vendor/golang.org/x/mod/module",
		"cmd/vendor/golang.org/x/mod/semver",
		"cmd/vendor/golang.org/x/mod/sumdb",
		"cmd/vendor/golang.org/x/mod/sumdb/dirhash",
		"cmd/vendor/golang.org/x/mod/sumdb/note",
		"cmd/vendor/golang.org/x/mod/sumdb/tlog",
		"cmd/vendor/golang.org/x/mod/zip",
		"cmd/vendor/golang.org/x/sync/errgroup",
		"cmd/vendor/golang.org/x/sync/semaphore",
		"cmd/vendor/golang.org/x/sys/unix",
		"cmd/vendor/golang.org/x/telemetry",
		"cmd/vendor/golang.org/x/telemetry/counter",
		"cmd/vendor/golang.org/x/telemetry/counter/countertest",
		"cmd/vendor/golang.org/x/telemetry/internal/config",
		"cmd/vendor/golang.org/x/telemetry/internal/configstore",
		"cmd/vendor/golang.org/x/telemetry/internal/counter",
		"cmd/vendor/golang.org/x/telemetry/internal/crashmonitor",
		"cmd/vendor/golang.org/x/telemetry/internal/mmap",
		"cmd/vendor/golang.org/x/telemetry/internal/telemetry",
		"cmd/vendor/golang.org/x/telemetry/internal/upload",
		"cmd/vendor/golang.org/x/telemetry/upload",
		"cmd/vendor/golang.org/x/term",
		"cmd/vendor/golang.org/x/text/cases",
		"cmd/vendor/golang.org/x/text/internal",
		"cmd/vendor/golang.org/x/text/internal/language",
		"cmd/vendor/golang.org/x/text/internal/language/compact",
		"cmd/vendor/golang.org/x/text/internal/tag",
		"cmd/vendor/golang.org/x/text/language",
		"cmd/vendor/golang.org/x/text/transform",
		"cmd/vendor/golang.org/x/text/unicode/norm",
		"cmd/vendor/golang.org/x/tools/cover",
		"cmd/vendor/golang.org/x/tools/go/analysis",
		"cmd/vendor/golang.org/x/tools/go/analysis/internal/analysisflags",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/appends",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/asmdecl",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/assign",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/atomic",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/bools",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/buildtag",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/cgocall",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/composite",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/copylock",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/ctrlflow",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/defers",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/directive",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/errorsas",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/framepointer",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/httpresponse",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/ifaceassert",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/inspect",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/internal/analysisutil",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/loopclosure",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/lostcancel",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/nilfunc",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/printf",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/shift",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/sigchanyzer",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/slog",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/stdmethods",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/stringintconv",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/structtag",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/testinggoroutine",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/tests",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/timeformat",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/unmarshal",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/unreachable",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/unsafeptr",
		"cmd/vendor/golang.org/x/tools/go/analysis/passes/unusedresult",
		"cmd/vendor/golang.org/x/tools/go/analysis/unitchecker",
		"cmd/vendor/golang.org/x/tools/go/ast/astutil",
		"cmd/vendor/golang.org/x/tools/go/ast/inspector",
		"cmd/vendor/golang.org/x/tools/go/cfg",
		"cmd/vendor/golang.org/x/tools/go/types/objectpath",
		"cmd/vendor/golang.org/x/tools/go/types/typeutil",
		"cmd/vendor/golang.org/x/tools/internal/aliases",
		"cmd/vendor/golang.org/x/tools/internal/analysisinternal",
		"cmd/vendor/golang.org/x/tools/internal/bisect",
		"cmd/vendor/golang.org/x/tools/internal/facts",
		"cmd/vendor/golang.org/x/tools/internal/typeparams",
		"cmd/vendor/golang.org/x/tools/internal/versions",
		"cmd/vendor/rsc.io/markdown",
		"cmd/vet",
		"archive/tar:racebench",
		"archive/zip:racebench",
		"bufio:racebench",
		"bytes:racebench",
		"compress/bzip2:racebench",
		"compress/flate:racebench",
		"compress/lzw:racebench",
		"container/heap:racebench",
		"context:racebench",
		"crypto/aes:racebench",
		"crypto/cipher:racebench",
		"crypto/des:racebench",
		"crypto/ecdh:racebench",
		"crypto/ecdsa:racebench",
		"crypto/ed25519:racebench",
		"crypto/elliptic:racebench",
		"crypto/hmac:racebench",
		"crypto/internal/bigmod:racebench",
		"crypto/internal/edwards25519:racebench",
		"crypto/internal/edwards25519/field:racebench",
		"crypto/internal/nistec:racebench",
		"crypto/internal/nistec/fiat:racebench",
		"crypto/md5:racebench",
		"crypto/rand:racebench",
		"crypto/rc4:racebench",
		"crypto/rsa:racebench",
		"crypto/sha1:racebench",
		"crypto/sha256:racebench",
		"crypto/sha512:racebench",
		"crypto/subtle:racebench",
		"crypto/tls:racebench",
		"crypto/x509:racebench",
		"database/sql:racebench",
		"debug/elf:racebench",
		"debug/gosym:racebench",
		"encoding/asn1:racebench",
		"encoding/base32:racebench",
		"encoding/base64:racebench",
		"encoding/binary:racebench",
		"encoding/csv:racebench",
		"encoding/gob:racebench",
		"encoding/hex:racebench",
		"encoding/json:racebench",
		"encoding/pem:racebench",
		"encoding/xml:racebench",
		"errors:racebench",
		"expvar:racebench",
		"fmt:racebench",
		"go/build:racebench",
		"go/constant:racebench",
		"go/format:racebench",
		"go/parser:racebench",
		"go/printer:racebench",
		"go/scanner:racebench",
		"go/token:racebench",
		"go/types:racebench",
		"hash/adler32:racebench",
		"hash/crc32:racebench",
		"hash/crc64:racebench",
		"hash/fnv:racebench",
		"hash/maphash:racebench",
		"html:racebench",
		"html/template:racebench",
		"image:racebench",
		"image/color:racebench",
		"image/draw:racebench",
		"image/gif:racebench",
		"image/jpeg:racebench",
		"image/png:racebench",
		"index/suffixarray:racebench",
		"internal/chacha8rand:racebench",
		"internal/fuzz:racebench",
		"internal/intern:racebench",
		"internal/poll:racebench",
		"internal/trace:racebench",
		"internal/zstd:racebench",
		"io:racebench",
		"log:racebench",
		"log/slog:racebench",
		"log/slog/internal/benchmarks:racebench",
		"maps:racebench",
		"math:racebench",
		"math/big:racebench",
		"math/bits:racebench",
		"math/cmplx:racebench",
		"math/rand:racebench",
		"math/rand/v2:racebench",
		"mime:racebench",
		"mime/multipart:racebench",
		"mime/quotedprintable:racebench",
		"net:racebench",
		"net/http:racebench",
		"net/http/httputil:racebench",
		"net/netip:racebench",
		"net/rpc:racebench",
		"net/textproto:racebench",
		"net/url:racebench",
		"os:racebench",
		"os/exec:racebench",
		"os/user:racebench",
		"reflect:racebench",
		"regexp:racebench",
		"regexp/syntax:racebench",
		"runtime:racebench",
		"runtime/cgo:racebench",
		"runtime/internal/atomic:racebench",
		"runtime/internal/math:racebench",
		"runtime/pprof:racebench",
		"runtime/race:racebench",
		"runtime/trace:racebench",
		"slices:racebench",
		"sort:racebench",
		"strconv:racebench",
		"strings:racebench",
		"sync:racebench",
		"sync/atomic:racebench",
		"syscall:racebench",
		"testing:racebench",
		"text/tabwriter:racebench",
		"text/template/parse:racebench",
		"time:racebench",
		"unicode/utf16:racebench",
		"unicode/utf8:racebench",
		"cmd/api:racebench",
		"cmd/cgo/internal/test:racebench",
		"cmd/compile/internal/reflectdata:racebench",
		"cmd/compile/internal/ssa:racebench",
		"cmd/compile/internal/test:racebench",
		"cmd/compile/internal/types2:racebench",
		"cmd/go:racebench",
		"cmd/go/internal/cfg:racebench",
		"cmd/internal/notsha256:racebench",
	}
}
