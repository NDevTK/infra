{
  "type": "object",
  "properties": {
    "timestamp": {
      "type": "integer",
      "minimum": 0
    },
    "command": {
      "$ref": "#/definitions/known_commands"
    },
    "arguments": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/known_args"
      }
    },
    "execution_time": {
      "type": "number",
      "minimum": 0
    },
    "exit_code": {
      "type": "integer"
    },
    "host_os": {
      "$ref": "#/definitions/known_os"
    },
    "host_arch": {
      "$ref": "#/definitions/known_archs"
    },
    "depot_tools_age": {
      "type": "number"
    },
    "python_version": {
      "type": "string",
      "pattern": "^\\d\\.\\d.\\d{2}$"
    }
  },
  "additionalProperties": false,
  "definitions": {
    "known_commands": {
      "enum": [
        "gclient config",
        "gclient diff",
        "gclient fetch",
        "gclient flatten",
        "gclient getdep",
        "gclient grep",
        "gclient help",
        "gclient metrics",
        "gclient pack",
        "gclient recurse",
        "gclient revert",
        "gclient revinfo",
        "gclient root",
        "gclient runhooks",
        "gclient setdep",
        "gclient status",
        "gclient sync",
        "gclient validate",
        "gclient verify",
        "git nav-downstream"
      ]
    },
    "known_args": {
      "enum": [
        "A",
        "D",
        "H",
        "M",
        "R",
        "a",
        "actual",
        "auto_rebase",
        "break_repo_locks",
        "cache_dir",
        "custom_var",
        "delete_unversioned_trees",
        "deps",
        "deps_file",
        "disable_syntax_validation",
        "f",
        "filter",
        "force",
        "gclientfile",
        "head",
        "i",
        "ignore",
        "ignore_locks",
        "j",
        "jobs",
        "lock_timeout",
        "m",
        "manually_grab_svn_rev",
        "merge",
        "n",
        "name",
        "no_bootstrap",
        "no_history",
        "no_nag_max",
        "no_progress",
        "no_rebase_patch_ref",
        "no_reset_patch_ref",
        "no_bootstrap",
        "nohooks",
        "noprehooks",
        "null",
        "opt_in",
        "opt_out",
        "output_deps",
        "output_deps_files",
        "output_json",
        "p",
        "patch_ref",
        "pin_all_deps",
        "prepend_dir",
        "process_all_deps",
        "r",
        "reset",
        "revision",
        "s",
        "scm",
        "shallow",
        "snapshot",
        "spec",
        "t",
        "transitive",
        "unmanaged",
        "upstream",
        "v",
        "validate_syntax",
        "var",
        "verbose",
        "with_branch_heads",
        "with_tags"
      ]
    },
    "known_os": {
      "enum": [
        "win",
        "mac",
        "linux",
        "android",
        "fuchsia",
        "ios"
      ]
    },
    "known_archs": {
      "enum": [
        "ia32",
        "x64",
        "arm",
        "arm64",
        "mips",
        "ppc",
        "s390"
      ]
    }
  }
}
