plans:
    - name: android
      criticalactions:
        - name: 'Set state: needs_deploy (RUN_ONCE)'
          exec_name: dut_set_state
          exec_args:
            - state:needs_deploy
          docs:
            - The action set devices with request to be redeployed.
        - name: Validate DUT info
          exec_name: sample_pass
          docs:
            - Check Android DUT info for repair.
          dependencies:
            - name: dut_has_name
              exec_name: dut_has_name
            - name: android_dut_has_board_name
              exec_name: android_dut_has_board_name
            - name: android_dut_has_model_name
              exec_name: android_dut_has_model_name
            - name: android_dut_has_serial_number
              exec_name: android_dut_has_serial_number
            - name: android_dut_has_associated_host
              exec_name: android_dut_has_associated_host
        - name: Validate associated host
          exec_name: android_associated_host_fs_is_writable
          docs:
            - Check availability of associated host of the DUT.
          dependencies:
            - name: android_dut_has_serial_number
              exec_name: android_dut_has_serial_number
            - name: android_dut_has_associated_host
              exec_name: android_dut_has_associated_host
            - name: Associated host is pingable (time:'15s')
              exec_name: android_associated_host_ping
              docs:
                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                - This should happen as soon as the network driver gets loaded and the network becomes operational.
            - name: Associated host is accessible over SSH (time:'30s')
              exec_name: android_associated_host_ssh
              docs:
                - This verifier checks whether associated host of the DUT is accessible over ssh.
            - name: Associated host is labstation
              exec_name: android_associated_host_is_labstation
              docs:
                - This verifier checks whether associated host of the DUT is a labstation.
          recoveries:
            - name: Schedule associated host reboot and fail (ALWAYS_RUN)
              exec_name: sample_fail
              docs:
                - Schedules reboot of the DUT associated host and fails repair till the next run.
              conditions:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              dependencies:
                - name: android_associated_host_schedule_reboot
                  exec_name: android_associated_host_schedule_reboot
        - name: Lock associated host (ALWAYS_RUN)
          exec_name: android_associated_host_lock
          docs:
            - Creates a file to indicate that the associated host is in use.
          dependencies:
            - name: Validate associated host
              exec_name: android_associated_host_fs_is_writable
              docs:
                - Check availability of associated host of the DUT.
              dependencies:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
        - name: Validate adb
          exec_name: android_associated_host_start_adb
          exec_args:
            - adb_vendor_key:/var/lib/android_keys
          docs:
            - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
          dependencies:
            - name: Validate associated host
              exec_name: android_associated_host_fs_is_writable
              docs:
                - Check availability of associated host of the DUT.
              dependencies:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
            - name: Associated host has vendor key
              exec_name: android_associated_host_has_vendor_key
              exec_args:
                - adb_vendor_key:/var/lib/android_keys/arc.adb_key
              docs:
                - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
              recoveries:
                - name: Restore private vendor key on associated host
                  exec_name: android_associated_host_restore_vendor_key
                  exec_args:
                    - vendor_key_file:/var/lib/android_keys/arc.adb_key
                    - |-
                      vendor_key_content:-----BEGIN PRIVATE KEY-----
                      MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCnHNzujonYRLoI
                      F2pyJX1SSrqmiT/3rTRCP1X0pj1V/sPGwgvIr+3QjZehLUGRQL0wneBNXd6EVrST
                      drO4cOPwSxRJjCf+/PtS1nwkz+o/BGn5yhNppdSro7aPoQxEVM8qLtN5Ke9tx/zE
                      ggxpF8D3XBC6Los9lAkyesZI6xqXESeofOYu3Hndzfbz8rAjC0X+p6Sx561Bt1dn
                      T7k2cP0mwWfITjW8tAhzmKgL4tGcgmoLhMHl9JgScFBhW2Nd0QAR4ACyVvryJ/Xa
                      2L6T2YpUjqWEDbiJNEApFb+m+smIbyGz0H/Kj9znoRs84z3/8rfyNQOyf7oqBpr2
                      52XG4totAgMBAAECggEARisKYWicXKDO9CLQ4Uj4jBswsEilAVxKux5Y+zbqPjeR
                      AN3tkMC+PHmXl2enRlRGnClOS24ExtCZVenboLBWJUmBJTiieqDC7o985QAgPYGe
                      9fFxoUSuPbuqJjjbK73olq++v/tpu1Djw6dPirkcn0CbDXIJqTuFeRqwM2H0ckVl
                      mVGUDgATckY0HWPyTBIzwBYIQTvAYzqFHmztcUahQrfi9XqxnySI91no8X6fR323
                      R8WQ44atLWO5TPCu5JEHCwuTzsGEG7dEEtRQUxAsH11QC7S53tqf10u40aT3bXUh
                      XV62ol9Zk7h3UrrlT1h1Ae+EtgIbhwv23poBEHpRQQKBgQDeUJwLfWQj0xHO+Jgl
                      gbMCfiPYvjJ9yVcW4ET4UYnO6A9bf0aHOYdDcumScWHrA1bJEFZ/cqRvqUZsbSsB
                      +thxa7gjdpZzBeSzd7M+Ygrodi6KM/ojSQMsen/EbRFerZBvsXimtRb88NxTBIW1
                      RXRPLRhHt+VYEF/wOVkNZ5c2eQKBgQDAbwNkkVFTD8yQJFxZZgr1F/g/nR2IC1Yb
                      ylusFztLG998olxUKcWGGMoF7JjlM6pY3nt8qJFKek9bRJqyWSqS4/pKR7QTU4Nl
                      a+gECuD3f28qGFgmay+B7Fyi9xmBAsGINyVxvGyKH95y3QICw1V0Q8uuNwJW2feo
                      3+UD2/rkVQKBgFloh+ljC4QQ3gekGOR0rf6hpl8D1yCZecn8diB8AnVRBOQiYsX9
                      j/XDYEaCDQRMOnnwdSkafSFfLbBrkzFfpe6viMXSap1l0F2RFWhQW9yzsvHoB4Br
                      W7hmp73is2qlWQJimIhLKiyd3a4RkoidnzI8i5hEUBtDsqHVHohykfDZAoGABNhG
                      q5eFBqRVMCPaN138VKNf2qon/i7a4iQ8Hp8PHRr8i3TDAlNy56dkHrYQO2ULmuUv
                      Erpjvg5KRS/6/RaFneEjgg9AF2R44GrREpj7hP+uWs72GTGFpq2+v1OdTsQ0/yr0
                      RGLMEMYwoY+y50Lnud+jFyXHZ0xhkdzhNTGqpWkCgYBigHVt/p8uKlTqhlSl6QXw
                      1AyaV/TmfDjzWaNjmnE+DxQfXzPi9G+cXONdwD0AlRM1NnBRN+smh2B4RBeU515d
                      x5RpTRFgzayt0I4Rt6QewKmAER3FbbPzaww2pkfH1zr4GJrKQuceWzxUf46K38xl
                      yee+dcuGhs9IGBOEEF7lFA==
                      -----END PRIVATE KEY-----
                  docs:
                    - This action restore the a pre-defined vendor key on the associated host.
            - name: Associated host has adb
              exec_name: android_associated_host_has_adb
              docs:
                - This verifier checks whether associated host of the DUT has adb installed.
            - name: Adb server is stopped
              exec_name: android_associated_host_stop_adb
              docs:
                - Stops Adb server if it is running on associated host of the DUT.
              conditions:
                - name: android_associated_host_has_no_other_locks
                  exec_name: android_associated_host_has_no_other_locks
          recoveries:
            - name: Schedule associated host reboot and fail (ALWAYS_RUN)
              exec_name: sample_fail
              docs:
                - Schedules reboot of the DUT associated host and fails repair till the next run.
              conditions:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              dependencies:
                - name: android_associated_host_schedule_reboot
                  exec_name: android_associated_host_schedule_reboot
        - name: DUT is accessible over adb (ALWAYS_RUN)
          exec_name: android_dut_is_accessible
          docs:
            - This verifier checks whether the DUT is accessible over adb.
          dependencies:
            - name: Validate associated host
              exec_name: android_associated_host_fs_is_writable
              docs:
                - Check availability of associated host of the DUT.
              dependencies:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
            - name: Validate adb
              exec_name: android_associated_host_start_adb
              exec_args:
                - adb_vendor_key:/var/lib/android_keys
              docs:
                - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
              dependencies:
                - name: Validate associated host
                  exec_name: android_associated_host_fs_is_writable
                  docs:
                    - Check availability of associated host of the DUT.
                  dependencies:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
                - name: Associated host has vendor key
                  exec_name: android_associated_host_has_vendor_key
                  exec_args:
                    - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                  docs:
                    - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                  recoveries:
                    - name: Restore private vendor key on associated host
                      exec_name: android_associated_host_restore_vendor_key
                      exec_args:
                        - vendor_key_file:/var/lib/android_keys/arc.adb_key
                        - |-
                          vendor_key_content:-----BEGIN PRIVATE KEY-----
                          MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCnHNzujonYRLoI
                          F2pyJX1SSrqmiT/3rTRCP1X0pj1V/sPGwgvIr+3QjZehLUGRQL0wneBNXd6EVrST
                          drO4cOPwSxRJjCf+/PtS1nwkz+o/BGn5yhNppdSro7aPoQxEVM8qLtN5Ke9tx/zE
                          ggxpF8D3XBC6Los9lAkyesZI6xqXESeofOYu3Hndzfbz8rAjC0X+p6Sx561Bt1dn
                          T7k2cP0mwWfITjW8tAhzmKgL4tGcgmoLhMHl9JgScFBhW2Nd0QAR4ACyVvryJ/Xa
                          2L6T2YpUjqWEDbiJNEApFb+m+smIbyGz0H/Kj9znoRs84z3/8rfyNQOyf7oqBpr2
                          52XG4totAgMBAAECggEARisKYWicXKDO9CLQ4Uj4jBswsEilAVxKux5Y+zbqPjeR
                          AN3tkMC+PHmXl2enRlRGnClOS24ExtCZVenboLBWJUmBJTiieqDC7o985QAgPYGe
                          9fFxoUSuPbuqJjjbK73olq++v/tpu1Djw6dPirkcn0CbDXIJqTuFeRqwM2H0ckVl
                          mVGUDgATckY0HWPyTBIzwBYIQTvAYzqFHmztcUahQrfi9XqxnySI91no8X6fR323
                          R8WQ44atLWO5TPCu5JEHCwuTzsGEG7dEEtRQUxAsH11QC7S53tqf10u40aT3bXUh
                          XV62ol9Zk7h3UrrlT1h1Ae+EtgIbhwv23poBEHpRQQKBgQDeUJwLfWQj0xHO+Jgl
                          gbMCfiPYvjJ9yVcW4ET4UYnO6A9bf0aHOYdDcumScWHrA1bJEFZ/cqRvqUZsbSsB
                          +thxa7gjdpZzBeSzd7M+Ygrodi6KM/ojSQMsen/EbRFerZBvsXimtRb88NxTBIW1
                          RXRPLRhHt+VYEF/wOVkNZ5c2eQKBgQDAbwNkkVFTD8yQJFxZZgr1F/g/nR2IC1Yb
                          ylusFztLG998olxUKcWGGMoF7JjlM6pY3nt8qJFKek9bRJqyWSqS4/pKR7QTU4Nl
                          a+gECuD3f28qGFgmay+B7Fyi9xmBAsGINyVxvGyKH95y3QICw1V0Q8uuNwJW2feo
                          3+UD2/rkVQKBgFloh+ljC4QQ3gekGOR0rf6hpl8D1yCZecn8diB8AnVRBOQiYsX9
                          j/XDYEaCDQRMOnnwdSkafSFfLbBrkzFfpe6viMXSap1l0F2RFWhQW9yzsvHoB4Br
                          W7hmp73is2qlWQJimIhLKiyd3a4RkoidnzI8i5hEUBtDsqHVHohykfDZAoGABNhG
                          q5eFBqRVMCPaN138VKNf2qon/i7a4iQ8Hp8PHRr8i3TDAlNy56dkHrYQO2ULmuUv
                          Erpjvg5KRS/6/RaFneEjgg9AF2R44GrREpj7hP+uWs72GTGFpq2+v1OdTsQ0/yr0
                          RGLMEMYwoY+y50Lnud+jFyXHZ0xhkdzhNTGqpWkCgYBigHVt/p8uKlTqhlSl6QXw
                          1AyaV/TmfDjzWaNjmnE+DxQfXzPi9G+cXONdwD0AlRM1NnBRN+smh2B4RBeU515d
                          x5RpTRFgzayt0I4Rt6QewKmAER3FbbPzaww2pkfH1zr4GJrKQuceWzxUf46K38xl
                          yee+dcuGhs9IGBOEEF7lFA==
                          -----END PRIVATE KEY-----
                      docs:
                        - This action restore the a pre-defined vendor key on the associated host.
                - name: Associated host has adb
                  exec_name: android_associated_host_has_adb
                  docs:
                    - This verifier checks whether associated host of the DUT has adb installed.
                - name: Adb server is stopped
                  exec_name: android_associated_host_stop_adb
                  docs:
                    - Stops Adb server if it is running on associated host of the DUT.
                  conditions:
                    - name: android_associated_host_has_no_other_locks
                      exec_name: android_associated_host_has_no_other_locks
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
          recoveries:
            - name: Reboot device if in fastboot mode (time:'11m30s')
              exec_name: sample_pass
              docs:
                - Reboot the device via fastboot if the device is in fastboot mode.
              dependencies:
                - name: android_device_in_fastboot_mode
                  exec_name: android_device_in_fastboot_mode
                - name: android_reboot_device_via_fastboot
                  exec_name: android_reboot_device_via_fastboot
                - name: Wait for Online DUT (ALWAYS_RUN) (time:'10m0s')
                  exec_name: android_wait_for_online_dut
                  exec_args:
                    - timeout:600
                  docs:
                    - Waits for DUT to become available.
            - name: Reconnect device if in offline state
              exec_name: android_reconnect_offline_dut
              docs:
                - Reconnect device if the device is in offline state.
              conditions:
                - name: android_dut_is_offline
                  exec_name: android_dut_is_offline
            - name: Schedule associated host reboot and fail (ALWAYS_RUN)
              exec_name: sample_fail
              docs:
                - Schedules reboot of the DUT associated host and fails repair till the next run.
              conditions:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              dependencies:
                - name: android_associated_host_schedule_reboot
                  exec_name: android_associated_host_schedule_reboot
        - name: Reset DUT (time:'11m30s')
          exec_name: android_enable_test_harness
          docs:
            - Resets DUT to factory settings.
          dependencies:
            - name: Validate associated host
              exec_name: android_associated_host_fs_is_writable
              docs:
                - Check availability of associated host of the DUT.
              dependencies:
                - name: android_dut_has_serial_number
                  exec_name: android_dut_has_serial_number
                - name: android_dut_has_associated_host
                  exec_name: android_dut_has_associated_host
                - name: Associated host is pingable (time:'15s')
                  exec_name: android_associated_host_ping
                  docs:
                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                - name: Associated host is accessible over SSH (time:'30s')
                  exec_name: android_associated_host_ssh
                  docs:
                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                - name: Associated host is labstation
                  exec_name: android_associated_host_is_labstation
                  docs:
                    - This verifier checks whether associated host of the DUT is a labstation.
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
            - name: Validate adb
              exec_name: android_associated_host_start_adb
              exec_args:
                - adb_vendor_key:/var/lib/android_keys
              docs:
                - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
              dependencies:
                - name: Validate associated host
                  exec_name: android_associated_host_fs_is_writable
                  docs:
                    - Check availability of associated host of the DUT.
                  dependencies:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
                - name: Associated host has vendor key
                  exec_name: android_associated_host_has_vendor_key
                  exec_args:
                    - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                  docs:
                    - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                  recoveries:
                    - name: Restore private vendor key on associated host
                      exec_name: android_associated_host_restore_vendor_key
                      exec_args:
                        - vendor_key_file:/var/lib/android_keys/arc.adb_key
                        - |-
                          vendor_key_content:-----BEGIN PRIVATE KEY-----
                          MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCnHNzujonYRLoI
                          F2pyJX1SSrqmiT/3rTRCP1X0pj1V/sPGwgvIr+3QjZehLUGRQL0wneBNXd6EVrST
                          drO4cOPwSxRJjCf+/PtS1nwkz+o/BGn5yhNppdSro7aPoQxEVM8qLtN5Ke9tx/zE
                          ggxpF8D3XBC6Los9lAkyesZI6xqXESeofOYu3Hndzfbz8rAjC0X+p6Sx561Bt1dn
                          T7k2cP0mwWfITjW8tAhzmKgL4tGcgmoLhMHl9JgScFBhW2Nd0QAR4ACyVvryJ/Xa
                          2L6T2YpUjqWEDbiJNEApFb+m+smIbyGz0H/Kj9znoRs84z3/8rfyNQOyf7oqBpr2
                          52XG4totAgMBAAECggEARisKYWicXKDO9CLQ4Uj4jBswsEilAVxKux5Y+zbqPjeR
                          AN3tkMC+PHmXl2enRlRGnClOS24ExtCZVenboLBWJUmBJTiieqDC7o985QAgPYGe
                          9fFxoUSuPbuqJjjbK73olq++v/tpu1Djw6dPirkcn0CbDXIJqTuFeRqwM2H0ckVl
                          mVGUDgATckY0HWPyTBIzwBYIQTvAYzqFHmztcUahQrfi9XqxnySI91no8X6fR323
                          R8WQ44atLWO5TPCu5JEHCwuTzsGEG7dEEtRQUxAsH11QC7S53tqf10u40aT3bXUh
                          XV62ol9Zk7h3UrrlT1h1Ae+EtgIbhwv23poBEHpRQQKBgQDeUJwLfWQj0xHO+Jgl
                          gbMCfiPYvjJ9yVcW4ET4UYnO6A9bf0aHOYdDcumScWHrA1bJEFZ/cqRvqUZsbSsB
                          +thxa7gjdpZzBeSzd7M+Ygrodi6KM/ojSQMsen/EbRFerZBvsXimtRb88NxTBIW1
                          RXRPLRhHt+VYEF/wOVkNZ5c2eQKBgQDAbwNkkVFTD8yQJFxZZgr1F/g/nR2IC1Yb
                          ylusFztLG998olxUKcWGGMoF7JjlM6pY3nt8qJFKek9bRJqyWSqS4/pKR7QTU4Nl
                          a+gECuD3f28qGFgmay+B7Fyi9xmBAsGINyVxvGyKH95y3QICw1V0Q8uuNwJW2feo
                          3+UD2/rkVQKBgFloh+ljC4QQ3gekGOR0rf6hpl8D1yCZecn8diB8AnVRBOQiYsX9
                          j/XDYEaCDQRMOnnwdSkafSFfLbBrkzFfpe6viMXSap1l0F2RFWhQW9yzsvHoB4Br
                          W7hmp73is2qlWQJimIhLKiyd3a4RkoidnzI8i5hEUBtDsqHVHohykfDZAoGABNhG
                          q5eFBqRVMCPaN138VKNf2qon/i7a4iQ8Hp8PHRr8i3TDAlNy56dkHrYQO2ULmuUv
                          Erpjvg5KRS/6/RaFneEjgg9AF2R44GrREpj7hP+uWs72GTGFpq2+v1OdTsQ0/yr0
                          RGLMEMYwoY+y50Lnud+jFyXHZ0xhkdzhNTGqpWkCgYBigHVt/p8uKlTqhlSl6QXw
                          1AyaV/TmfDjzWaNjmnE+DxQfXzPi9G+cXONdwD0AlRM1NnBRN+smh2B4RBeU515d
                          x5RpTRFgzayt0I4Rt6QewKmAER3FbbPzaww2pkfH1zr4GJrKQuceWzxUf46K38xl
                          yee+dcuGhs9IGBOEEF7lFA==
                          -----END PRIVATE KEY-----
                      docs:
                        - This action restore the a pre-defined vendor key on the associated host.
                - name: Associated host has adb
                  exec_name: android_associated_host_has_adb
                  docs:
                    - This verifier checks whether associated host of the DUT has adb installed.
                - name: Adb server is stopped
                  exec_name: android_associated_host_stop_adb
                  docs:
                    - Stops Adb server if it is running on associated host of the DUT.
                  conditions:
                    - name: android_associated_host_has_no_other_locks
                      exec_name: android_associated_host_has_no_other_locks
              recoveries:
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
            - name: DUT is accessible over adb (ALWAYS_RUN)
              exec_name: android_dut_is_accessible
              docs:
                - This verifier checks whether the DUT is accessible over adb.
              dependencies:
                - name: Validate associated host
                  exec_name: android_associated_host_fs_is_writable
                  docs:
                    - Check availability of associated host of the DUT.
                  dependencies:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
                - name: Validate adb
                  exec_name: android_associated_host_start_adb
                  exec_args:
                    - adb_vendor_key:/var/lib/android_keys
                  docs:
                    - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                  dependencies:
                    - name: Validate associated host
                      exec_name: android_associated_host_fs_is_writable
                      docs:
                        - Check availability of associated host of the DUT.
                      dependencies:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      recoveries:
                        - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                          exec_name: sample_fail
                          docs:
                            - Schedules reboot of the DUT associated host and fails repair till the next run.
                          conditions:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                          dependencies:
                            - name: android_associated_host_schedule_reboot
                              exec_name: android_associated_host_schedule_reboot
                    - name: Associated host has vendor key
                      exec_name: android_associated_host_has_vendor_key
                      exec_args:
                        - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                      docs:
                        - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                      recoveries:
                        - name: Restore private vendor key on associated host
                          exec_name: android_associated_host_restore_vendor_key
                          exec_args:
                            - vendor_key_file:/var/lib/android_keys/arc.adb_key
                            - |-
                              vendor_key_content:-----BEGIN PRIVATE KEY-----
                              MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCnHNzujonYRLoI
                              F2pyJX1SSrqmiT/3rTRCP1X0pj1V/sPGwgvIr+3QjZehLUGRQL0wneBNXd6EVrST
                              drO4cOPwSxRJjCf+/PtS1nwkz+o/BGn5yhNppdSro7aPoQxEVM8qLtN5Ke9tx/zE
                              ggxpF8D3XBC6Los9lAkyesZI6xqXESeofOYu3Hndzfbz8rAjC0X+p6Sx561Bt1dn
                              T7k2cP0mwWfITjW8tAhzmKgL4tGcgmoLhMHl9JgScFBhW2Nd0QAR4ACyVvryJ/Xa
                              2L6T2YpUjqWEDbiJNEApFb+m+smIbyGz0H/Kj9znoRs84z3/8rfyNQOyf7oqBpr2
                              52XG4totAgMBAAECggEARisKYWicXKDO9CLQ4Uj4jBswsEilAVxKux5Y+zbqPjeR
                              AN3tkMC+PHmXl2enRlRGnClOS24ExtCZVenboLBWJUmBJTiieqDC7o985QAgPYGe
                              9fFxoUSuPbuqJjjbK73olq++v/tpu1Djw6dPirkcn0CbDXIJqTuFeRqwM2H0ckVl
                              mVGUDgATckY0HWPyTBIzwBYIQTvAYzqFHmztcUahQrfi9XqxnySI91no8X6fR323
                              R8WQ44atLWO5TPCu5JEHCwuTzsGEG7dEEtRQUxAsH11QC7S53tqf10u40aT3bXUh
                              XV62ol9Zk7h3UrrlT1h1Ae+EtgIbhwv23poBEHpRQQKBgQDeUJwLfWQj0xHO+Jgl
                              gbMCfiPYvjJ9yVcW4ET4UYnO6A9bf0aHOYdDcumScWHrA1bJEFZ/cqRvqUZsbSsB
                              +thxa7gjdpZzBeSzd7M+Ygrodi6KM/ojSQMsen/EbRFerZBvsXimtRb88NxTBIW1
                              RXRPLRhHt+VYEF/wOVkNZ5c2eQKBgQDAbwNkkVFTD8yQJFxZZgr1F/g/nR2IC1Yb
                              ylusFztLG998olxUKcWGGMoF7JjlM6pY3nt8qJFKek9bRJqyWSqS4/pKR7QTU4Nl
                              a+gECuD3f28qGFgmay+B7Fyi9xmBAsGINyVxvGyKH95y3QICw1V0Q8uuNwJW2feo
                              3+UD2/rkVQKBgFloh+ljC4QQ3gekGOR0rf6hpl8D1yCZecn8diB8AnVRBOQiYsX9
                              j/XDYEaCDQRMOnnwdSkafSFfLbBrkzFfpe6viMXSap1l0F2RFWhQW9yzsvHoB4Br
                              W7hmp73is2qlWQJimIhLKiyd3a4RkoidnzI8i5hEUBtDsqHVHohykfDZAoGABNhG
                              q5eFBqRVMCPaN138VKNf2qon/i7a4iQ8Hp8PHRr8i3TDAlNy56dkHrYQO2ULmuUv
                              Erpjvg5KRS/6/RaFneEjgg9AF2R44GrREpj7hP+uWs72GTGFpq2+v1OdTsQ0/yr0
                              RGLMEMYwoY+y50Lnud+jFyXHZ0xhkdzhNTGqpWkCgYBigHVt/p8uKlTqhlSl6QXw
                              1AyaV/TmfDjzWaNjmnE+DxQfXzPi9G+cXONdwD0AlRM1NnBRN+smh2B4RBeU515d
                              x5RpTRFgzayt0I4Rt6QewKmAER3FbbPzaww2pkfH1zr4GJrKQuceWzxUf46K38xl
                              yee+dcuGhs9IGBOEEF7lFA==
                              -----END PRIVATE KEY-----
                          docs:
                            - This action restore the a pre-defined vendor key on the associated host.
                    - name: Associated host has adb
                      exec_name: android_associated_host_has_adb
                      docs:
                        - This verifier checks whether associated host of the DUT has adb installed.
                    - name: Adb server is stopped
                      exec_name: android_associated_host_stop_adb
                      docs:
                        - Stops Adb server if it is running on associated host of the DUT.
                      conditions:
                        - name: android_associated_host_has_no_other_locks
                          exec_name: android_associated_host_has_no_other_locks
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
              recoveries:
                - name: Reboot device if in fastboot mode (time:'11m30s')
                  exec_name: sample_pass
                  docs:
                    - Reboot the device via fastboot if the device is in fastboot mode.
                  dependencies:
                    - name: android_device_in_fastboot_mode
                      exec_name: android_device_in_fastboot_mode
                    - name: android_reboot_device_via_fastboot
                      exec_name: android_reboot_device_via_fastboot
                    - name: Wait for Online DUT (ALWAYS_RUN) (time:'10m0s')
                      exec_name: android_wait_for_online_dut
                      exec_args:
                        - timeout:600
                      docs:
                        - Waits for DUT to become available.
                - name: Reconnect device if in offline state
                  exec_name: android_reconnect_offline_dut
                  docs:
                    - Reconnect device if the device is in offline state.
                  conditions:
                    - name: android_dut_is_offline
                      exec_name: android_dut_is_offline
                - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                  exec_name: sample_fail
                  docs:
                    - Schedules reboot of the DUT associated host and fails repair till the next run.
                  conditions:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  dependencies:
                    - name: android_associated_host_schedule_reboot
                      exec_name: android_associated_host_schedule_reboot
            - name: Reset public key
              exec_name: android_reset_public_key
              exec_args:
                - public_key:QAAAAFt6z0Mt2uLGZef2mgYqun+yAzXyt/L/PeM8G6Hn3I/Kf9CzIW+IyfqmvxUpQDSJuA2EpY5UitmTvtja9Sfy+layAOARANFdY1thUHASmPTlwYQLaoKc0eILqJhzCLS8NU7IZ8Em/XA2uU9nV7dBreexpKf+RQsjsPLz9s3dedwu5nyoJxGXGutIxnoyCZQ9iy66EFz3wBdpDILE/Mdt7yl50y4qz1REDKGPtqOr1KVpE8r5aQQ/6s8kfNZS+/z+J4xJFEvw43C4s3aTtFaE3l1N4J0wvUCRQS2hl43Q7a/IC8LGw/5VPab0VT9CNK33P4mmukpSfSVyahcIukTYiY7u3Byn0Nc9qhPPbSQYNQiofN7w91BWzW46V8CgWzBCKZoKhF7YmTdAm48qmaV0rqMGaf1AtRz5QY0a47seRYCgk9lMx7BeMgIuAZDmYPsUG+mAG+IiQYfvJMIEMBowtc8IlfZv9A7bwLKcs4rRhxFdCzJ7odPgFdgUv7MEAYF+HhnQg6DYEhoqe7YkB98Pb8VbU4f/ZTNkHYtIOxMIb53saW09zop5MlQrR6E7hBeZ5FwMNOK7+yc20ulUlqq38iB6QoHx7lli8dfGpD47J1ETHw7m9uAuxMu75MD4bIxYgmj2Ud1TvmWqXtmg75+E+B1I3osGcw9a2Qxo2ypV1Nkq8b1lmgEAAQA= root@localhost
                - public_key_file:/data/misc/adb/adb_keys
              docs:
                - Validates and restores ADB public vendor key.
              conditions:
                - name: DUT has userdebug build
                  exec_name: android_dut_has_userdebug_build
                  docs:
                    - This verifier checks whether the DUT has userdebug build.
                  dependencies:
                    - name: Validate associated host
                      exec_name: android_associated_host_fs_is_writable
                      docs:
                        - Check availability of associated host of the DUT.
                      dependencies:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                    - name: Validate adb
                      exec_name: android_associated_host_start_adb
                      exec_args:
                        - adb_vendor_key:/var/lib/android_keys
                      docs:
                        - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                      dependencies:
                        - name: Validate associated host
                          exec_name: android_associated_host_fs_is_writable
                          docs:
                            - Check availability of associated host of the DUT.
                          dependencies:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                        - name: Associated host has vendor key
                          exec_name: android_associated_host_has_vendor_key
                          exec_args:
                            - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                          docs:
                            - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                        - name: Associated host has adb
                          exec_name: android_associated_host_has_adb
                          docs:
                            - This verifier checks whether associated host of the DUT has adb installed.
                        - name: Adb server is stopped
                          exec_name: android_associated_host_stop_adb
                          docs:
                            - Stops Adb server if it is running on associated host of the DUT.
                          conditions:
                            - name: android_associated_host_has_no_other_locks
                              exec_name: android_associated_host_has_no_other_locks
              dependencies:
                - name: Validate associated host
                  exec_name: android_associated_host_fs_is_writable
                  docs:
                    - Check availability of associated host of the DUT.
                  dependencies:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
                - name: Validate adb
                  exec_name: android_associated_host_start_adb
                  exec_args:
                    - adb_vendor_key:/var/lib/android_keys
                  docs:
                    - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                  dependencies:
                    - name: Validate associated host
                      exec_name: android_associated_host_fs_is_writable
                      docs:
                        - Check availability of associated host of the DUT.
                      dependencies:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      recoveries:
                        - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                          exec_name: sample_fail
                          docs:
                            - Schedules reboot of the DUT associated host and fails repair till the next run.
                          conditions:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                          dependencies:
                            - name: android_associated_host_schedule_reboot
                              exec_name: android_associated_host_schedule_reboot
                    - name: Associated host has vendor key
                      exec_name: android_associated_host_has_vendor_key
                      exec_args:
                        - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                      docs:
                        - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                      recoveries:
                        - name: Restore private vendor key on associated host
                          exec_name: android_associated_host_restore_vendor_key
                          exec_args:
                            - vendor_key_file:/var/lib/android_keys/arc.adb_key
                            - |-
                              vendor_key_content:-----BEGIN PRIVATE KEY-----
                              MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCnHNzujonYRLoI
                              F2pyJX1SSrqmiT/3rTRCP1X0pj1V/sPGwgvIr+3QjZehLUGRQL0wneBNXd6EVrST
                              drO4cOPwSxRJjCf+/PtS1nwkz+o/BGn5yhNppdSro7aPoQxEVM8qLtN5Ke9tx/zE
                              ggxpF8D3XBC6Los9lAkyesZI6xqXESeofOYu3Hndzfbz8rAjC0X+p6Sx561Bt1dn
                              T7k2cP0mwWfITjW8tAhzmKgL4tGcgmoLhMHl9JgScFBhW2Nd0QAR4ACyVvryJ/Xa
                              2L6T2YpUjqWEDbiJNEApFb+m+smIbyGz0H/Kj9znoRs84z3/8rfyNQOyf7oqBpr2
                              52XG4totAgMBAAECggEARisKYWicXKDO9CLQ4Uj4jBswsEilAVxKux5Y+zbqPjeR
                              AN3tkMC+PHmXl2enRlRGnClOS24ExtCZVenboLBWJUmBJTiieqDC7o985QAgPYGe
                              9fFxoUSuPbuqJjjbK73olq++v/tpu1Djw6dPirkcn0CbDXIJqTuFeRqwM2H0ckVl
                              mVGUDgATckY0HWPyTBIzwBYIQTvAYzqFHmztcUahQrfi9XqxnySI91no8X6fR323
                              R8WQ44atLWO5TPCu5JEHCwuTzsGEG7dEEtRQUxAsH11QC7S53tqf10u40aT3bXUh
                              XV62ol9Zk7h3UrrlT1h1Ae+EtgIbhwv23poBEHpRQQKBgQDeUJwLfWQj0xHO+Jgl
                              gbMCfiPYvjJ9yVcW4ET4UYnO6A9bf0aHOYdDcumScWHrA1bJEFZ/cqRvqUZsbSsB
                              +thxa7gjdpZzBeSzd7M+Ygrodi6KM/ojSQMsen/EbRFerZBvsXimtRb88NxTBIW1
                              RXRPLRhHt+VYEF/wOVkNZ5c2eQKBgQDAbwNkkVFTD8yQJFxZZgr1F/g/nR2IC1Yb
                              ylusFztLG998olxUKcWGGMoF7JjlM6pY3nt8qJFKek9bRJqyWSqS4/pKR7QTU4Nl
                              a+gECuD3f28qGFgmay+B7Fyi9xmBAsGINyVxvGyKH95y3QICw1V0Q8uuNwJW2feo
                              3+UD2/rkVQKBgFloh+ljC4QQ3gekGOR0rf6hpl8D1yCZecn8diB8AnVRBOQiYsX9
                              j/XDYEaCDQRMOnnwdSkafSFfLbBrkzFfpe6viMXSap1l0F2RFWhQW9yzsvHoB4Br
                              W7hmp73is2qlWQJimIhLKiyd3a4RkoidnzI8i5hEUBtDsqHVHohykfDZAoGABNhG
                              q5eFBqRVMCPaN138VKNf2qon/i7a4iQ8Hp8PHRr8i3TDAlNy56dkHrYQO2ULmuUv
                              Erpjvg5KRS/6/RaFneEjgg9AF2R44GrREpj7hP+uWs72GTGFpq2+v1OdTsQ0/yr0
                              RGLMEMYwoY+y50Lnud+jFyXHZ0xhkdzhNTGqpWkCgYBigHVt/p8uKlTqhlSl6QXw
                              1AyaV/TmfDjzWaNjmnE+DxQfXzPi9G+cXONdwD0AlRM1NnBRN+smh2B4RBeU515d
                              x5RpTRFgzayt0I4Rt6QewKmAER3FbbPzaww2pkfH1zr4GJrKQuceWzxUf46K38xl
                              yee+dcuGhs9IGBOEEF7lFA==
                              -----END PRIVATE KEY-----
                          docs:
                            - This action restore the a pre-defined vendor key on the associated host.
                    - name: Associated host has adb
                      exec_name: android_associated_host_has_adb
                      docs:
                        - This verifier checks whether associated host of the DUT has adb installed.
                    - name: Adb server is stopped
                      exec_name: android_associated_host_stop_adb
                      docs:
                        - Stops Adb server if it is running on associated host of the DUT.
                      conditions:
                        - name: android_associated_host_has_no_other_locks
                          exec_name: android_associated_host_has_no_other_locks
                  recoveries:
                    - name: Schedule associated host reboot and fail (ALWAYS_RUN)
                      exec_name: sample_fail
                      docs:
                        - Schedules reboot of the DUT associated host and fails repair till the next run.
                      conditions:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                      dependencies:
                        - name: android_associated_host_schedule_reboot
                          exec_name: android_associated_host_schedule_reboot
                - name: Ensure adbd runs as root (ALWAYS_RUN)
                  exec_name: android_restart_adbd_as_root
                  docs:
                    - Restart adbd with root permission.
                  conditions:
                    - name: DUT has userdebug build
                      exec_name: android_dut_has_userdebug_build
                      docs:
                        - This verifier checks whether the DUT has userdebug build.
                      dependencies:
                        - name: Validate associated host
                          exec_name: android_associated_host_fs_is_writable
                          docs:
                            - Check availability of associated host of the DUT.
                          dependencies:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                        - name: Validate adb
                          exec_name: android_associated_host_start_adb
                          exec_args:
                            - adb_vendor_key:/var/lib/android_keys
                          docs:
                            - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                          dependencies:
                            - name: Validate associated host
                              exec_name: android_associated_host_fs_is_writable
                              docs:
                                - Check availability of associated host of the DUT.
                              dependencies:
                                - name: android_dut_has_serial_number
                                  exec_name: android_dut_has_serial_number
                                - name: android_dut_has_associated_host
                                  exec_name: android_dut_has_associated_host
                                - name: Associated host is pingable (time:'15s')
                                  exec_name: android_associated_host_ping
                                  docs:
                                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                                - name: Associated host is accessible over SSH (time:'30s')
                                  exec_name: android_associated_host_ssh
                                  docs:
                                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                                - name: Associated host is labstation
                                  exec_name: android_associated_host_is_labstation
                                  docs:
                                    - This verifier checks whether associated host of the DUT is a labstation.
                            - name: Associated host has vendor key
                              exec_name: android_associated_host_has_vendor_key
                              exec_args:
                                - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                              docs:
                                - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                            - name: Associated host has adb
                              exec_name: android_associated_host_has_adb
                              docs:
                                - This verifier checks whether associated host of the DUT has adb installed.
                            - name: Adb server is stopped
                              exec_name: android_associated_host_stop_adb
                              docs:
                                - Stops Adb server if it is running on associated host of the DUT.
                              conditions:
                                - name: android_associated_host_has_no_other_locks
                                  exec_name: android_associated_host_has_no_other_locks
          recoveries:
            - name: Unlock DUT screen (time:'11m30s')
              exec_name: sample_pass
              docs:
                - Unlocks DUT screen.
              conditions:
                - name: DUT has userdebug build
                  exec_name: android_dut_has_userdebug_build
                  docs:
                    - This verifier checks whether the DUT has userdebug build.
                  dependencies:
                    - name: Validate associated host
                      exec_name: android_associated_host_fs_is_writable
                      docs:
                        - Check availability of associated host of the DUT.
                      dependencies:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                    - name: Validate adb
                      exec_name: android_associated_host_start_adb
                      exec_args:
                        - adb_vendor_key:/var/lib/android_keys
                      docs:
                        - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                      dependencies:
                        - name: Validate associated host
                          exec_name: android_associated_host_fs_is_writable
                          docs:
                            - Check availability of associated host of the DUT.
                          dependencies:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                        - name: Associated host has vendor key
                          exec_name: android_associated_host_has_vendor_key
                          exec_args:
                            - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                          docs:
                            - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                        - name: Associated host has adb
                          exec_name: android_associated_host_has_adb
                          docs:
                            - This verifier checks whether associated host of the DUT has adb installed.
                        - name: Adb server is stopped
                          exec_name: android_associated_host_stop_adb
                          docs:
                            - Stops Adb server if it is running on associated host of the DUT.
                          conditions:
                            - name: android_associated_host_has_no_other_locks
                              exec_name: android_associated_host_has_no_other_locks
              dependencies:
                - name: Validate associated host
                  exec_name: android_associated_host_fs_is_writable
                  docs:
                    - Check availability of associated host of the DUT.
                  dependencies:
                    - name: android_dut_has_serial_number
                      exec_name: android_dut_has_serial_number
                    - name: android_dut_has_associated_host
                      exec_name: android_dut_has_associated_host
                    - name: Associated host is pingable (time:'15s')
                      exec_name: android_associated_host_ping
                      docs:
                        - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                        - This should happen as soon as the network driver gets loaded and the network becomes operational.
                    - name: Associated host is accessible over SSH (time:'30s')
                      exec_name: android_associated_host_ssh
                      docs:
                        - This verifier checks whether associated host of the DUT is accessible over ssh.
                    - name: Associated host is labstation
                      exec_name: android_associated_host_is_labstation
                      docs:
                        - This verifier checks whether associated host of the DUT is a labstation.
                - name: Validate adb
                  exec_name: android_associated_host_start_adb
                  exec_args:
                    - adb_vendor_key:/var/lib/android_keys
                  docs:
                    - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                  dependencies:
                    - name: Validate associated host
                      exec_name: android_associated_host_fs_is_writable
                      docs:
                        - Check availability of associated host of the DUT.
                      dependencies:
                        - name: android_dut_has_serial_number
                          exec_name: android_dut_has_serial_number
                        - name: android_dut_has_associated_host
                          exec_name: android_dut_has_associated_host
                        - name: Associated host is pingable (time:'15s')
                          exec_name: android_associated_host_ping
                          docs:
                            - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                            - This should happen as soon as the network driver gets loaded and the network becomes operational.
                        - name: Associated host is accessible over SSH (time:'30s')
                          exec_name: android_associated_host_ssh
                          docs:
                            - This verifier checks whether associated host of the DUT is accessible over ssh.
                        - name: Associated host is labstation
                          exec_name: android_associated_host_is_labstation
                          docs:
                            - This verifier checks whether associated host of the DUT is a labstation.
                    - name: Associated host has vendor key
                      exec_name: android_associated_host_has_vendor_key
                      exec_args:
                        - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                      docs:
                        - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                    - name: Associated host has adb
                      exec_name: android_associated_host_has_adb
                      docs:
                        - This verifier checks whether associated host of the DUT has adb installed.
                    - name: Adb server is stopped
                      exec_name: android_associated_host_stop_adb
                      docs:
                        - Stops Adb server if it is running on associated host of the DUT.
                      conditions:
                        - name: android_associated_host_has_no_other_locks
                          exec_name: android_associated_host_has_no_other_locks
                - name: Ensure adbd runs as root (ALWAYS_RUN)
                  exec_name: android_restart_adbd_as_root
                  docs:
                    - Restart adbd with root permission.
                  conditions:
                    - name: DUT has userdebug build
                      exec_name: android_dut_has_userdebug_build
                      docs:
                        - This verifier checks whether the DUT has userdebug build.
                      dependencies:
                        - name: Validate associated host
                          exec_name: android_associated_host_fs_is_writable
                          docs:
                            - Check availability of associated host of the DUT.
                          dependencies:
                            - name: android_dut_has_serial_number
                              exec_name: android_dut_has_serial_number
                            - name: android_dut_has_associated_host
                              exec_name: android_dut_has_associated_host
                            - name: Associated host is pingable (time:'15s')
                              exec_name: android_associated_host_ping
                              docs:
                                - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                - This should happen as soon as the network driver gets loaded and the network becomes operational.
                            - name: Associated host is accessible over SSH (time:'30s')
                              exec_name: android_associated_host_ssh
                              docs:
                                - This verifier checks whether associated host of the DUT is accessible over ssh.
                            - name: Associated host is labstation
                              exec_name: android_associated_host_is_labstation
                              docs:
                                - This verifier checks whether associated host of the DUT is a labstation.
                        - name: Validate adb
                          exec_name: android_associated_host_start_adb
                          exec_args:
                            - adb_vendor_key:/var/lib/android_keys
                          docs:
                            - This verifier checks whether adb and vendor key are properly provisioned on associated host of the DUT and adb server is running.
                          dependencies:
                            - name: Validate associated host
                              exec_name: android_associated_host_fs_is_writable
                              docs:
                                - Check availability of associated host of the DUT.
                              dependencies:
                                - name: android_dut_has_serial_number
                                  exec_name: android_dut_has_serial_number
                                - name: android_dut_has_associated_host
                                  exec_name: android_dut_has_associated_host
                                - name: Associated host is pingable (time:'15s')
                                  exec_name: android_associated_host_ping
                                  docs:
                                    - 'This verifier checks whether associated host of the DUT is reachable over ping. '
                                    - This should happen as soon as the network driver gets loaded and the network becomes operational.
                                - name: Associated host is accessible over SSH (time:'30s')
                                  exec_name: android_associated_host_ssh
                                  docs:
                                    - This verifier checks whether associated host of the DUT is accessible over ssh.
                                - name: Associated host is labstation
                                  exec_name: android_associated_host_is_labstation
                                  docs:
                                    - This verifier checks whether associated host of the DUT is a labstation.
                            - name: Associated host has vendor key
                              exec_name: android_associated_host_has_vendor_key
                              exec_args:
                                - adb_vendor_key:/var/lib/android_keys/arc.adb_key
                              docs:
                                - This verifier checks whether a valid vendor key is provisioned to associated host of the DUT.
                            - name: Associated host has adb
                              exec_name: android_associated_host_has_adb
                              docs:
                                - This verifier checks whether associated host of the DUT has adb installed.
                            - name: Adb server is stopped
                              exec_name: android_associated_host_stop_adb
                              docs:
                                - Stops Adb server if it is running on associated host of the DUT.
                              conditions:
                                - name: android_associated_host_has_no_other_locks
                                  exec_name: android_associated_host_has_no_other_locks
                - name: android_remove_screen_lock
                  exec_name: android_remove_screen_lock
                - name: android_dut_reboot
                  exec_name: android_dut_reboot
                - name: Wait for Online DUT (ALWAYS_RUN) (time:'10m0s')
                  exec_name: android_wait_for_online_dut
                  exec_args:
                    - timeout:600
                  docs:
                    - Waits for DUT to become available.
        - name: 'Set state: ready (RUN_ONCE)'
          exec_name: dut_set_state
          exec_args:
            - state:ready
          docs:
            - Final state of Android DUT indicating successful repair.
    - name: close (Allow to fail)
      criticalactions:
        - name: Unlock associated host (ALWAYS_RUN)
          exec_name: android_associated_host_unlock
          docs:
            - Removes in-use file to release the associated host.
          conditions:
            - name: android_dut_has_serial_number
              exec_name: android_dut_has_serial_number
            - name: android_dut_has_associated_host
              exec_name: android_dut_has_associated_host
            - name: android_associated_host_ssh
              exec_name: android_associated_host_ssh
            - name: android_associated_host_is_labstation
              exec_name: android_associated_host_is_labstation
            - name: android_associated_host_fs_is_writable
              exec_name: android_associated_host_fs_is_writable
        - name: Update DUT state for failures more than threshold
          exec_name: dut_set_state_reason
          exec_args:
            - allow_override:false
            - reason:REPAIR_RETRY_REACHED_THRESHOLD
          docs:
            - Set the DUT state to the value passed in the extra args.
          conditions:
            - name: DUT state is repair_failed
              exec_name: dut_state_match
              exec_args:
                - state:repair_failed
              docs:
                - Check if the DUT's state is in repair_failed state, if not then fail.
            - name: Failure count above threshold
              exec_name: metrics_check_task_failures
              exec_args:
                - task_name:recovery
                - repair_failed_count:6
              docs:
                - Check if the number of continuously recovery task failures are greater than a threshold value.
          dependencies:
            - name: 'Set state: needs_manual_repair (Allow to fail) (ALWAYS_RUN)'
              exec_name: dut_set_state
              exec_args:
                - state:needs_manual_repair
              docs:
                - Set DUT state as needs_manual_repair.
