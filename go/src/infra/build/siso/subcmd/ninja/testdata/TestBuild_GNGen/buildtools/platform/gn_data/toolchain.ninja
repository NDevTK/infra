rule link
  command = "python3" "../../build/toolchain/gcc_link_wrapper.py" --output=${out} @${out}.rsp
  description = LINK ${out}
  rspfile = ${out}.rsp
  rspfile_content = ${in}
rule alink
  command = python3 ../../third_party/llvm-build/Release+Asserts/bin/llvm-ar.py -D ${out} @${out}.rsp
  description = ALINK ${out}
  rspfile = ${out}.rsp
  rspfile_content = ${in}
rule cxx
  command = python3 ../../third_party/llvm-build/Release+Asserts/bin/clang-cl.py -c ${in} -o ${out}
  description = CXX ${out}

build ./base_unittests: link obj/base/libbase.a
build obj/base/libbase.a: alink obj/base/base.o
build obj/base/base.o: cxx ../../base/base.cc
