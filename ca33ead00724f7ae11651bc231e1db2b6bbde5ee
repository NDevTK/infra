{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "477dfc39_46de5537",
        "filename": "go/src/infra/cros/recovery/internal/execs/rpm/rpm_execs.go",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1393275
      },
      "writtenOn": "2022-11-17T05:58:04Z",
      "side": 1,
      "message": "look like we always need to find outlet and devices information for each exec.\n\nwha if we create function like\n```\nfunc getRPMOutletAndNamePerDevices(info, deviceType) (name string, rpm RPMOUtlet, err error)\n```\n\nthen each exec can looks like \n```\n// hasRpmInfoDeviceExec verifies if rpm info is present for DUT.\nfunc hasRpmInfoDeviceExec(ctx context.Context, info *execs.ExecInfo) error {\n\targsMap :\u003d info.GetActionArgs(ctx)\n\tdeviceType :\u003d argsMap.AsString(ctx, \"device_type\", \"\")\n\tname, r, err :\u003d getRPMOutletAndNamePerDevices(info, deviceType)\n\tif err !\u003d nil{\n\t      //annotate error\n\t}\n\t//here other or rest of exec logic.\n\t// example\n\tif r !\u003d nil {\n\t\tif r.GetHostname() !\u003d \"\" \u0026\u0026 r.GetOutlet() !\u003d \"\" {\n\t\t\treturn nil\n\t\t}\n\t\tr.State \u003d tlw.RPMOutlet_MISSING_CONFIG\n\t}\n\treturn errors.Reason(\"has rpm info: for %q not present or incorrect\", deviceType).Err()\n}\n```",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 86,
        "endChar": 1
      },
      "revId": "ca33ead00724f7ae11651bc231e1db2b6bbde5ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "773f7c44_82cce2ee",
        "filename": "go/src/infra/cros/recovery/internal/execs/rpm/rpm_execs.go",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1527672
      },
      "writtenOn": "2022-11-17T19:25:44Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "477dfc39_46de5537",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 86,
        "endChar": 1
      },
      "revId": "ca33ead00724f7ae11651bc231e1db2b6bbde5ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6af14fb_970a9197",
        "filename": "go/src/infra/cros/recovery/internal/execs/rpm/rpm_execs.go",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1393275
      },
      "writtenOn": "2022-11-17T05:58:04Z",
      "side": 1,
      "message": "why do we creating new execs instead of extending existing one?",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 184,
        "endChar": 60
      },
      "revId": "ca33ead00724f7ae11651bc231e1db2b6bbde5ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c4896f4_a6613519",
        "filename": "go/src/infra/cros/recovery/internal/execs/rpm/rpm_execs.go",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1527672
      },
      "writtenOn": "2022-11-17T19:25:44Z",
      "side": 1,
      "message": "We are extending the existing one creating the new one and retiring the existing one. The current one does not have device_type argument. We will need to update the plan actions of existing one if we directly modify the existing execs. It\u0027s a lot easier to handle the testing/update this way. Added a TODO to capture it.",
      "parentUuid": "f6af14fb_970a9197",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 184,
        "endChar": 60
      },
      "revId": "ca33ead00724f7ae11651bc231e1db2b6bbde5ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba7f30ca_e3c5164f",
        "filename": "go/src/infra/cros/recovery/internal/execs/rpm/rpm_execs.go",
        "patchSetId": 1
      },
      "lineNbr": 184,
      "author": {
        "id": 1393275
      },
      "writtenOn": "2022-11-17T19:29:37Z",
      "side": 1,
      "message": "that is just set default of cros and it will safe as from the change plan in first place.",
      "parentUuid": "4c4896f4_a6613519",
      "range": {
        "startLine": 181,
        "startChar": 1,
        "endLine": 184,
        "endChar": 60
      },
      "revId": "ca33ead00724f7ae11651bc231e1db2b6bbde5ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}