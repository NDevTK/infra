{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9a1489fc_43a61e8e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2024-03-18T07:25:03Z",
      "side": 1,
      "message": "Why do you do these in this CL?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a6f8c96_cebfb723",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "do you prefer splitting them?",
      "parentUuid": "9a1489fc_43a61e8e",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19002573_5f619caf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2024-03-18T08:41:19Z",
      "side": 1,
      "message": "No, I\u0027m wondering what is the motivation of this refactoring.",
      "parentUuid": "5a6f8c96_cebfb723",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01ea6832_a9d730d3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:42:59Z",
      "side": 1,
      "message": "for better cog integration\nand move real filesystem operations in osfs, not hashfs.",
      "parentUuid": "19002573_5f619caf",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f88773ce_7052e1cc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-19T02:31:56Z",
      "side": 1,
      "message": "\u003e and move real filesystem operations in osfs, not hashfs.\n\nThis refactoring extracts the xattr digest related logics into osfs, which itself looks good to me. \n\n\u003e for better cog integration\n\nCan file a bug so that you can associate this CL as a preparation for CoG integration?",
      "parentUuid": "01ea6832_a9d730d3",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "193efd46_11da824c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-19T05:17:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f88773ce_7052e1cc",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbf3fde4_149f420b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:15:54Z",
      "side": 1,
      "message": "Overall, this refactoring looks good to me.",
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "222c6929_fc5f31ba",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:07:42Z",
      "side": 1,
      "message": "Can you add a document for this field?\n```suggestion\n\t// DigestXattrName is xattr name for digest. When it is set, retrieve digest from the xattr.\n\tDigestXattrName string\n```",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 16
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62222c2c_fb59775b",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "222c6929_fc5f31ba",
      "range": {
        "startLine": 41,
        "startChar": 1,
        "endLine": 41,
        "endChar": 16
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d35e4c2a_6c82a02b",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:07:42Z",
      "side": 1,
      "message": "Should it fail? or leave a warning log? if DigestXttrName is specified on unsupported platform.",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 57,
        "endChar": 0
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c93ae7f5_10013940",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "it\u0027s just performance optimization, and always fallback to normal digest calculation.\nI pefer less error handling.",
      "parentUuid": "d35e4c2a_6c82a02b",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 57,
        "endChar": 0
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a369b1a_51701dba",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:15:54Z",
      "side": 1,
      "message": "Does it make sense to call it `FileDigestFromXattr`?\n```suggestion\n// FileDigestFromXattr returns file\u0027s digest via xattr if possible.\nfunc (fs *OSFS) FileDigestFromXattr(ctx context.Context, name string, size int64) (digest.Digest, error) {\n```",
      "range": {
        "startLine": 175,
        "startChar": 16,
        "endLine": 175,
        "endChar": 26
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55c1f805_34b34272",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a369b1a_51701dba",
      "range": {
        "startLine": 175,
        "startChar": 16,
        "endLine": 175,
        "endChar": 26
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53cf6a2e_5a122b7f",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 189,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:15:54Z",
      "side": 1,
      "message": "nit:\nIt might be simpler to do size check on FileSource side instead of giving `size` to this function.\n\nThis function can return digest string.",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 189,
        "endChar": 0
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5fcc531_1fee4d1d",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 189,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "well, I don\u0027t think it makes simpler.\nwe need to pass a pair of src and size in various places.",
      "parentUuid": "53cf6a2e_5a122b7f",
      "range": {
        "startLine": 184,
        "startChar": 0,
        "endLine": 189,
        "endChar": 0
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa7175e6_3d17f348",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2024-03-18T08:15:54Z",
      "side": 1,
      "message": "Same here. Does `FileDigestFromXattr` sounds better?\n```suggestion\n// FileDigestFromXattr returns file\u0027s digest via xattr if possible.\nfunc (fs FileSource) FileDigestFromXattr(ctx context.Context) (digest.Digest, error) {\n```",
      "range": {
        "startLine": 216,
        "startChar": 21,
        "endLine": 216,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75194b7a_63dbf097",
        "filename": "go/src/infra/build/siso/hashfs/osfs/osfs.go",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1001939
      },
      "writtenOn": "2024-03-18T08:34:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fa7175e6_3d17f348",
      "range": {
        "startLine": 216,
        "startChar": 21,
        "endLine": 216,
        "endChar": 31
      },
      "revId": "ba5787f81e90d246c092e48dcaba9757775b4cf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}