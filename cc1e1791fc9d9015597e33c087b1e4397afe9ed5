{
  "comments": [
    {
      "key": {
        "uuid": "d76c60a2_4bcebaaa",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "nit: 2017",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb02325f_c11461ae",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d76c60a2_4bcebaaa",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6ae1665_782a8f08",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "nit: container",
      "range": {
        "startLine": 34,
        "startChar": 28,
        "endLine": 34,
        "endChar": 37
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c026cbc5_527ab0cf",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 34,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6ae1665_782a8f08",
      "range": {
        "startLine": 34,
        "startChar": 28,
        "endLine": 34,
        "endChar": 37
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2279a7c4_ab8fbd85",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "Is there any documentation you can link to about what the other fields are?  In case someone wants to add something else later.",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5efb188_d5dac50a",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Ahh, good idea; done.",
      "parentUuid": "2279a7c4_ab8fbd85",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ce02b69_ccb096f8",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "Conventionally Go would use shorter names for these - maybe ctx, c, ci and cs.\nBut I\u0027m undecided whether that\u0027s more or less readable.  If you want to leave it as-is that\u0027s fine.",
      "range": {
        "startLine": 75,
        "startChar": 80,
        "endLine": 75,
        "endChar": 93
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f86e253_0ee2562b",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Gotcha. Shortened the names a bit.",
      "parentUuid": "1ce02b69_ccb096f8",
      "range": {
        "startLine": 75,
        "startChar": 80,
        "endLine": 75,
        "endChar": 93
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c74a0b0_8e26e263",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "I think it would be cleaner to make this function return error, then below do:\n\ngo func() {\n  channels \u003c- inspectContainer(...)\n}()",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76684c83_243e41f8",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 113,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7c74a0b0_8e26e263",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "183bf4db_7f1e5997",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 133,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "Do this in the same line as the if:\n\nif _, err :\u003d dockerClient.Ping(c); err !\u003d nil {",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f23ea59_233c469c",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 133,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "183bf4db_7f1e5997",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf8f3a9f_fd237524",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "Since you\u0027re not doing anything with the errors other than logging them, you could make this all less complex by using a sync.WaitGroup and logging errors from the goroutine:\n\nwg :\u003d sync.WaitGroup{}\nfor _, container :\u003d range containers {\n  wg.Add()\n  go {\n    defer wg.Done()\n    inspectContainer(...)\n  }()\n}\nwg.Wait()",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bcdb114_27fadd11",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 152,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Ahhh, that\u0027s much better. Didn\u0027t know that was a thing... I\u0027m still a go noob ^_^\n\nDone.",
      "parentUuid": "bf8f3a9f_fd237524",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d2c03be_7ee1e06d",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "List the metrics as arguments to RegisterGlobalCallback so it resets them after each flush (https://godoc.org/github.com/luci/luci-go/common/tsmon#RegisterGlobalCallback).  This way when a container goes away, you won\u0027t continue sending metrics for it.",
      "range": {
        "startLine": 163,
        "startChar": 7,
        "endLine": 163,
        "endChar": 29
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10eed34c_fd637661",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker.go",
        "patchSetId": 3
      },
      "lineNbr": 163,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7d2c03be_7ee1e06d",
      "range": {
        "startLine": 163,
        "startChar": 7,
        "endLine": 163,
        "endChar": 29
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b17142f5_957865e3",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker_test.go",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "I prefer to declare this kind of thing in-line.  It makes it less verbose IMO:\n\ncontainer :\u003d dockerTypes.Container{\n  Names: []string{...},\n  State: ...,\n}\n\nDo it for the others as well if you can.",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 41,
        "endChar": 28
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d64b3f90_82c2d1de",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker_test.go",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b17142f5_957865e3",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 41,
        "endChar": 28
      },
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf2546b7_9fd1b001",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker_test.go",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1131920
      },
      "writtenOn": "2017-03-29T02:53:30Z",
      "side": 1,
      "message": "containerStatsJSON :\u003d dockerTypes.ContainerStats{\n  Body: noOpCloser{bytes.NewReader([]byte(\n    `{\"name\": \"container1\"...` +\n    `...` +\n    `...`))},\n}",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2519f7e_bfba4cd5",
        "filename": "go/src/infra/monitoring/sysmon/docker/docker_test.go",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2017-03-29T22:25:41Z",
      "side": 1,
      "message": "Whoa... Done.",
      "parentUuid": "cf2546b7_9fd1b001",
      "revId": "cc1e1791fc9d9015597e33c087b1e4397afe9ed5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}